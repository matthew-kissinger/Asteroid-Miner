{"version":3,"file":"ui-modules-C3FA310U.js","sources":["../../js/modules/ui/hud.js","../../js/modules/ui/stargateInterface.js"],"sourcesContent":["// hud.js - Handles the game's advanced holographic heads-up display\n\nexport class HUD {\n    constructor(spaceship) {\n        this.spaceship = spaceship;\n        this.setupHUD();\n        this.animationFrames = [];\n        this.glitchInterval = null;\n        this.scanline = null;\n        this.hudOpacity = 0;\n        this.animateHudIn();\n    }\n    \n    setupHUD() {\n        // Create main HUD container with holographic glass effect\n        const hudContainer = document.createElement('div');\n        hudContainer.id = 'hud-container';\n        hudContainer.style.position = 'absolute';\n        hudContainer.style.top = '0';\n        hudContainer.style.left = '0';\n        hudContainer.style.width = '100%';\n        hudContainer.style.height = '100%';\n        hudContainer.style.pointerEvents = 'none';\n        hudContainer.style.fontFamily = '\"Rajdhani\", \"Electrolize\", sans-serif';\n        hudContainer.style.fontWeight = '400';\n        hudContainer.style.color = 'rgba(120, 220, 232, 0.9)';\n        hudContainer.style.textShadow = '0 0 10px rgba(120, 220, 232, 0.5)';\n        hudContainer.style.opacity = '0';\n        hudContainer.style.transition = 'opacity 0.5s ease';\n        document.body.appendChild(hudContainer);\n        \n        // Add Google Font for futuristic UI\n        const fontLink = document.createElement('link');\n        fontLink.href = 'https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600&family=Electrolize&display=swap';\n        fontLink.rel = 'stylesheet';\n        document.head.appendChild(fontLink);\n        \n        // Add holographic scanline effect\n        this.createScanlineEffect(hudContainer);\n        \n        // Create flight data panel - bottom left\n        this.createFlightPanel(hudContainer);\n        \n        // Create ship status panel - bottom right \n        this.createStatusPanel(hudContainer);\n        \n        // Create crosshair with targeting system\n        this.createTargetingSystem(hudContainer);\n        \n        // Create location info - top left\n        this.createLocationPanel(hudContainer);\n        \n        // Create resource panel - top right\n        this.createResourcePanel(hudContainer);\n        \n        // Radar removed as per user request\n        \n        // Add notifications area - top center\n        this.createNotificationsArea(hudContainer);\n    }\n    \n    createScanlineEffect(parent) {\n        // Scanline effect overlay\n        const scanlineEffect = document.createElement('div');\n        scanlineEffect.id = 'scanline-effect';\n        scanlineEffect.style.position = 'absolute';\n        scanlineEffect.style.top = '0';\n        scanlineEffect.style.left = '0';\n        scanlineEffect.style.width = '100%';\n        scanlineEffect.style.height = '100%';\n        scanlineEffect.style.background = 'linear-gradient(transparent 50%, rgba(120, 220, 232, 0.03) 50%)';\n        scanlineEffect.style.backgroundSize = '100% 4px';\n        scanlineEffect.style.zIndex = '1000';\n        scanlineEffect.style.pointerEvents = 'none';\n        scanlineEffect.style.opacity = '0.5';\n        parent.appendChild(scanlineEffect);\n        \n        // Add subtle scan line that moves\n        const activeScanline = document.createElement('div');\n        activeScanline.id = 'active-scanline';\n        activeScanline.style.position = 'absolute';\n        activeScanline.style.left = '0';\n        activeScanline.style.width = '100%';\n        activeScanline.style.height = '3px';\n        activeScanline.style.background = 'linear-gradient(90deg, transparent 0%, rgba(120, 220, 232, 0.1) 50%, transparent 100%)';\n        activeScanline.style.boxShadow = '0 0 10px rgba(120, 220, 232, 0.3)';\n        activeScanline.style.zIndex = '1001';\n        activeScanline.style.top = '0';\n        activeScanline.style.opacity = '0.7';\n        activeScanline.style.pointerEvents = 'none';\n        parent.appendChild(activeScanline);\n        \n        this.scanline = activeScanline;\n    }\n    \n    createFlightPanel(parent) {\n        const flightPanel = document.createElement('div');\n        flightPanel.id = 'flight-panel';\n        flightPanel.className = 'hud-panel';\n        flightPanel.style.position = 'absolute';\n        flightPanel.style.bottom = '20px';\n        flightPanel.style.left = '20px';\n        flightPanel.style.width = '260px';\n        flightPanel.style.padding = '15px';\n        flightPanel.style.backgroundColor = 'rgba(6, 22, 31, 0.7)';\n        flightPanel.style.backdropFilter = 'blur(5px)';\n        flightPanel.style.borderRadius = '10px';\n        flightPanel.style.border = '1px solid rgba(120, 220, 232, 0.3)';\n        flightPanel.style.boxShadow = '0 0 15px rgba(120, 220, 232, 0.2), inset 0 0 10px rgba(120, 220, 232, 0.1)';\n        flightPanel.style.overflow = 'hidden';\n        parent.appendChild(flightPanel);\n        \n        // Panel header\n        const panelHeader = document.createElement('div');\n        panelHeader.className = 'panel-header';\n        panelHeader.innerHTML = '<span>FLIGHT SYSTEMS</span>';\n        panelHeader.style.fontWeight = '600';\n        panelHeader.style.fontSize = '14px';\n        panelHeader.style.textTransform = 'uppercase';\n        panelHeader.style.letterSpacing = '2px';\n        panelHeader.style.marginBottom = '15px';\n        panelHeader.style.paddingBottom = '8px';\n        panelHeader.style.borderBottom = '1px solid rgba(120, 220, 232, 0.3)';\n        panelHeader.style.display = 'flex';\n        panelHeader.style.justifyContent = 'space-between';\n        panelHeader.style.alignItems = 'center';\n        flightPanel.appendChild(panelHeader);\n        \n        // Add a small blinking indicator\n        const statusIndicator = document.createElement('div');\n        statusIndicator.className = 'status-indicator';\n        statusIndicator.style.width = '8px';\n        statusIndicator.style.height = '8px';\n        statusIndicator.style.borderRadius = '50%';\n        statusIndicator.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        statusIndicator.style.boxShadow = '0 0 5px rgba(120, 220, 232, 0.8)';\n        statusIndicator.style.animation = 'pulse 2s infinite';\n        panelHeader.appendChild(statusIndicator);\n        \n        // Create flight data items\n        \n        // Add fuel gauge with visual indicator\n        const fuelRow = document.createElement('div');\n        fuelRow.className = 'panel-row';\n        fuelRow.style.display = 'flex';\n        fuelRow.style.justifyContent = 'space-between';\n        fuelRow.style.alignItems = 'center';\n        fuelRow.style.margin = '10px 0';\n        flightPanel.appendChild(fuelRow);\n        \n        const fuelLabel = document.createElement('span');\n        fuelLabel.className = 'row-label';\n        fuelLabel.textContent = 'FUEL';\n        fuelLabel.style.width = '40%';\n        fuelRow.appendChild(fuelLabel);\n        \n        // Add fuel value display\n        const fuelValue = document.createElement('span');\n        fuelValue.id = 'fuel-value';\n        fuelValue.className = 'row-value';\n        fuelValue.textContent = '100 / 100';\n        fuelValue.style.position = 'absolute';\n        fuelValue.style.right = '15px';\n        fuelValue.style.top = '-18px';\n        fuelValue.style.fontSize = '12px';\n        fuelValue.style.color = 'rgba(120, 220, 232, 0.9)';\n        \n        const fuelBarContainer = document.createElement('div');\n        fuelBarContainer.style.width = '60%';\n        fuelBarContainer.style.height = '10px';\n        fuelBarContainer.style.backgroundColor = 'rgba(10, 30, 40, 0.5)';\n        fuelBarContainer.style.borderRadius = '5px';\n        fuelBarContainer.style.overflow = 'hidden';\n        fuelBarContainer.style.position = 'relative';\n        fuelBarContainer.appendChild(fuelValue);\n        fuelRow.appendChild(fuelBarContainer);\n        \n        const fuelBar = document.createElement('div');\n        fuelBar.id = 'fuel-bar';\n        fuelBar.style.width = '100%';\n        fuelBar.style.height = '100%';\n        fuelBar.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        fuelBar.style.boxShadow = 'inset 0 0 5px rgba(255, 255, 255, 0.5)';\n        fuelBar.style.transition = 'width 0.3s ease';\n        fuelBarContainer.appendChild(fuelBar);\n        \n        // Credits display\n        this.createPanelRow(flightPanel, 'CREDITS', 'credits', '1000 CR');\n        \n        // Controls button\n        const controlsButton = document.createElement('button');\n        controlsButton.id = 'show-controls';\n        controlsButton.textContent = 'SYSTEM CONTROLS';\n        controlsButton.style.width = '100%';\n        controlsButton.style.marginTop = '15px';\n        controlsButton.style.padding = '8px';\n        controlsButton.style.backgroundColor = 'rgba(120, 220, 232, 0.15)';\n        controlsButton.style.border = '1px solid rgba(120, 220, 232, 0.5)';\n        controlsButton.style.borderRadius = '5px';\n        controlsButton.style.color = 'rgba(120, 220, 232, 0.9)';\n        controlsButton.style.fontSize = '12px';\n        controlsButton.style.fontFamily = '\"Rajdhani\", sans-serif';\n        controlsButton.style.cursor = 'pointer';\n        controlsButton.style.transition = 'all 0.2s ease';\n        controlsButton.style.textTransform = 'uppercase';\n        controlsButton.style.letterSpacing = '1px';\n        controlsButton.style.fontWeight = '600';\n        controlsButton.style.outline = 'none';\n        controlsButton.style.pointerEvents = 'auto';\n        \n        controlsButton.addEventListener('mouseover', () => {\n            controlsButton.style.backgroundColor = 'rgba(120, 220, 232, 0.3)';\n            controlsButton.style.boxShadow = '0 0 10px rgba(120, 220, 232, 0.5)';\n        });\n        \n        controlsButton.addEventListener('mouseout', () => {\n            controlsButton.style.backgroundColor = 'rgba(120, 220, 232, 0.15)';\n            controlsButton.style.boxShadow = 'none';\n        });\n        \n        flightPanel.appendChild(controlsButton);\n        \n        // Add holographic decorative elements\n        this.addHolographicElements(flightPanel);\n    }\n    \n    createStatusPanel(parent) {\n        const statusPanel = document.createElement('div');\n        statusPanel.id = 'status-panel';\n        statusPanel.className = 'hud-panel';\n        statusPanel.style.position = 'absolute';\n        statusPanel.style.bottom = '20px';\n        statusPanel.style.right = '20px';\n        statusPanel.style.width = '260px';\n        statusPanel.style.padding = '15px';\n        statusPanel.style.backgroundColor = 'rgba(6, 22, 31, 0.7)';\n        statusPanel.style.backdropFilter = 'blur(5px)';\n        statusPanel.style.borderRadius = '10px';\n        statusPanel.style.border = '1px solid rgba(120, 220, 232, 0.3)';\n        statusPanel.style.boxShadow = '0 0 15px rgba(120, 220, 232, 0.2), inset 0 0 10px rgba(120, 220, 232, 0.1)';\n        parent.appendChild(statusPanel);\n        \n        // Panel header\n        const panelHeader = document.createElement('div');\n        panelHeader.className = 'panel-header';\n        panelHeader.innerHTML = '<span>SHIP STATUS</span>';\n        panelHeader.style.fontWeight = '600';\n        panelHeader.style.fontSize = '14px';\n        panelHeader.style.textTransform = 'uppercase';\n        panelHeader.style.letterSpacing = '2px';\n        panelHeader.style.marginBottom = '15px';\n        panelHeader.style.paddingBottom = '8px';\n        panelHeader.style.borderBottom = '1px solid rgba(120, 220, 232, 0.3)';\n        panelHeader.style.display = 'flex';\n        panelHeader.style.justifyContent = 'space-between';\n        panelHeader.style.alignItems = 'center';\n        statusPanel.appendChild(panelHeader);\n        \n        // Add a small blinking indicator\n        const statusIndicator = document.createElement('div');\n        statusIndicator.className = 'status-indicator';\n        statusIndicator.style.width = '8px';\n        statusIndicator.style.height = '8px';\n        statusIndicator.style.borderRadius = '50%';\n        statusIndicator.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        statusIndicator.style.boxShadow = '0 0 5px rgba(120, 220, 232, 0.8)';\n        statusIndicator.style.animation = 'pulse 2s infinite';\n        panelHeader.appendChild(statusIndicator);\n        \n        // Ship shield bar\n        const shieldRow = document.createElement('div');\n        shieldRow.className = 'panel-row';\n        shieldRow.style.display = 'flex';\n        shieldRow.style.justifyContent = 'space-between';\n        shieldRow.style.alignItems = 'center';\n        shieldRow.style.margin = '10px 0';\n        statusPanel.appendChild(shieldRow);\n        \n        const shieldLabel = document.createElement('span');\n        shieldLabel.className = 'row-label';\n        shieldLabel.textContent = 'SHIELD';\n        shieldLabel.style.width = '50%';\n        shieldRow.appendChild(shieldLabel);\n        \n        const shieldBarContainer = document.createElement('div');\n        shieldBarContainer.style.width = '50%';\n        shieldBarContainer.style.height = '10px';\n        shieldBarContainer.style.backgroundColor = 'rgba(10, 30, 40, 0.5)';\n        shieldBarContainer.style.borderRadius = '5px';\n        shieldBarContainer.style.overflow = 'hidden';\n        shieldRow.appendChild(shieldBarContainer);\n        \n        const shieldBar = document.createElement('div');\n        shieldBar.id = 'shield-bar';\n        shieldBar.style.width = '100%';\n        shieldBar.style.height = '100%';\n        shieldBar.style.backgroundColor = 'rgba(51, 153, 255, 0.8)'; // Blue color for shield\n        shieldBar.style.boxShadow = 'inset 0 0 5px rgba(255, 255, 255, 0.5)';\n        shieldBar.style.transition = 'width 0.3s ease';\n        shieldBarContainer.appendChild(shieldBar);\n        \n        // Ship hull integrity bar\n        const hullRow = document.createElement('div');\n        hullRow.className = 'panel-row';\n        hullRow.style.display = 'flex';\n        hullRow.style.justifyContent = 'space-between';\n        hullRow.style.alignItems = 'center';\n        hullRow.style.margin = '10px 0';\n        statusPanel.appendChild(hullRow);\n        \n        const hullLabel = document.createElement('span');\n        hullLabel.className = 'row-label';\n        hullLabel.textContent = 'HULL INTEGRITY';\n        hullLabel.style.width = '50%';\n        hullRow.appendChild(hullLabel);\n        \n        const hullBarContainer = document.createElement('div');\n        hullBarContainer.style.width = '50%';\n        hullBarContainer.style.height = '10px';\n        hullBarContainer.style.backgroundColor = 'rgba(10, 30, 40, 0.5)';\n        hullBarContainer.style.borderRadius = '5px';\n        hullBarContainer.style.overflow = 'hidden';\n        hullRow.appendChild(hullBarContainer);\n        \n        const hullBar = document.createElement('div');\n        hullBar.id = 'hull-bar';\n        hullBar.style.width = '100%';\n        hullBar.style.height = '100%';\n        hullBar.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        hullBar.style.boxShadow = 'inset 0 0 5px rgba(255, 255, 255, 0.5)';\n        hullBar.style.transition = 'width 0.3s ease';\n        hullBarContainer.appendChild(hullBar);\n        \n        // Add holographic decorative elements\n        this.addHolographicElements(statusPanel);\n        \n        // Add sound control button\n        const soundToggleBtn = document.createElement('button');\n        soundToggleBtn.id = 'sound-toggle';\n        soundToggleBtn.textContent = 'SOUND: ON';\n        soundToggleBtn.style.background = 'none';\n        soundToggleBtn.style.border = '1px solid rgba(120, 220, 232, 0.5)';\n        soundToggleBtn.style.color = 'rgba(120, 220, 232, 0.9)';\n        soundToggleBtn.style.padding = '5px 10px';\n        soundToggleBtn.style.borderRadius = '5px';\n        soundToggleBtn.style.cursor = 'pointer';\n        soundToggleBtn.style.fontFamily = '\"Rajdhani\", sans-serif';\n        soundToggleBtn.style.fontSize = '12px';\n        soundToggleBtn.style.marginLeft = '10px';\n        soundToggleBtn.style.marginTop = '10px';\n        soundToggleBtn.style.outline = 'none';\n        soundToggleBtn.style.pointerEvents = 'auto';\n        \n        // Add click handler for sound toggle\n        soundToggleBtn.addEventListener('click', () => {\n            if (window.game && window.game.audio) {\n                const isMuted = window.game.audio.toggleMute();\n                soundToggleBtn.textContent = isMuted ? 'SOUND: OFF' : 'SOUND: ON';\n            }\n        });\n        \n        statusPanel.appendChild(soundToggleBtn);\n    }\n    \n    createTargetingSystem(parent) {\n        // Main crosshair container\n        const targetingSystem = document.createElement('div');\n        targetingSystem.id = 'targeting-system';\n        targetingSystem.style.position = 'absolute';\n        targetingSystem.style.top = '50%';\n        targetingSystem.style.left = '50%';\n        targetingSystem.style.transform = 'translate(-50%, -50%)';\n        targetingSystem.style.width = '100px';\n        targetingSystem.style.height = '100px';\n        targetingSystem.style.zIndex = '100';\n        parent.appendChild(targetingSystem);\n        \n        // Crosshair - create using SVG for more precise styling\n        const crosshair = document.createElement('div');\n        crosshair.id = 'crosshair';\n        crosshair.style.position = 'absolute';\n        crosshair.style.top = '50%';\n        crosshair.style.left = '50%';\n        crosshair.style.transform = 'translate(-50%, -50%)';\n        crosshair.style.width = '50px';\n        crosshair.style.height = '50px';\n        \n        // SVG crosshair\n        crosshair.innerHTML = `\n            <svg width=\"50\" height=\"50\" viewBox=\"0 0 50 50\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"25\" cy=\"25\" r=\"20\" stroke=\"rgba(120, 220, 232, 0.5)\" stroke-width=\"1\" stroke-dasharray=\"8 4\"/>\n                <circle cx=\"25\" cy=\"25\" r=\"3\" stroke=\"rgba(120, 220, 232, 0.8)\" stroke-width=\"1\"/>\n                <circle cx=\"25\" cy=\"25\" r=\"1\" fill=\"rgba(120, 220, 232, 0.8)\"/>\n                <line x1=\"25\" y1=\"10\" x2=\"25\" y2=\"18\" stroke=\"rgba(120, 220, 232, 0.8)\" stroke-width=\"1\"/>\n                <line x1=\"25\" y1=\"32\" x2=\"25\" y2=\"40\" stroke=\"rgba(120, 220, 232, 0.8)\" stroke-width=\"1\"/>\n                <line x1=\"10\" y1=\"25\" x2=\"18\" y2=\"25\" stroke=\"rgba(120, 220, 232, 0.8)\" stroke-width=\"1\"/>\n                <line x1=\"32\" y1=\"25\" x2=\"40\" y2=\"25\" stroke=\"rgba(120, 220, 232, 0.8)\" stroke-width=\"1\"/>\n                <!-- Add a pulsing animation to the outer circle -->\n                <circle cx=\"25\" cy=\"25\" r=\"24\" stroke=\"rgba(120, 220, 232, 0.3)\" stroke-width=\"1\">\n                    <animate attributeName=\"r\" values=\"24;28;24\" dur=\"3s\" repeatCount=\"indefinite\"/>\n                    <animate attributeName=\"opacity\" values=\"0.3;0.1;0.3\" dur=\"3s\" repeatCount=\"indefinite\"/>\n                </circle>\n            </svg>\n        `;\n        \n        targetingSystem.appendChild(crosshair);\n        \n        // Target info display that appears when targeting something\n        const targetInfo = document.createElement('div');\n        targetInfo.id = 'target-info';\n        targetInfo.style.position = 'absolute';\n        targetInfo.style.top = '60px';\n        targetInfo.style.left = '50%';\n        targetInfo.style.transform = 'translateX(-50%)';\n        targetInfo.style.width = '200px';\n        targetInfo.style.backgroundColor = 'rgba(6, 22, 31, 0.5)';\n        targetInfo.style.backdropFilter = 'blur(5px)';\n        targetInfo.style.borderRadius = '5px';\n        targetInfo.style.padding = '8px';\n        targetInfo.style.fontSize = '12px';\n        targetInfo.style.color = 'rgba(120, 220, 232, 0.9)';\n        targetInfo.style.border = '1px solid rgba(120, 220, 232, 0.3)';\n        targetInfo.style.boxShadow = '0 0 10px rgba(120, 220, 232, 0.2)';\n        targetInfo.style.textAlign = 'center';\n        targetInfo.style.display = 'none';\n        targetingSystem.appendChild(targetInfo);\n        \n        // Target info content\n        targetInfo.innerHTML = `\n            <div id=\"target-name\" style=\"font-weight:600; margin-bottom:5px; font-size:14px;\">NO TARGET</div>\n            <div id=\"target-distance\" style=\"margin-bottom:3px;\">DISTANCE: ---</div>\n            <div id=\"target-type\" style=\"margin-bottom:3px;\">TYPE: ---</div>\n            <div id=\"target-resources\" style=\"margin-bottom:3px;\">RESOURCES: ---</div>\n        `;\n        \n        // Laser beam\n        const laserBeam = document.createElement('div');\n        laserBeam.id = 'laser-beam';\n        laserBeam.style.position = 'absolute';\n        laserBeam.style.top = '50%';\n        laserBeam.style.left = '50%';\n        laserBeam.style.width = '0px';\n        laserBeam.style.height = '2px';\n        laserBeam.style.backgroundColor = 'rgba(255, 50, 50, 0.8)';\n        laserBeam.style.boxShadow = '0 0 10px rgba(255, 50, 50, 0.8)';\n        laserBeam.style.transformOrigin = 'left';\n        laserBeam.style.transform = 'rotate(var(--angle, 0deg))';\n        laserBeam.style.zIndex = '90';\n        laserBeam.style.display = 'none';\n        parent.appendChild(laserBeam);\n    }\n    \n    createLocationPanel(parent) {\n        // Location info panel - top left\n        const locationPanel = document.createElement('div');\n        locationPanel.id = 'location-panel';\n        locationPanel.className = 'hud-panel';\n        locationPanel.style.position = 'absolute';\n        locationPanel.style.top = '20px';\n        locationPanel.style.left = '20px';\n        locationPanel.style.padding = '10px 20px';\n        locationPanel.style.backgroundColor = 'rgba(6, 22, 31, 0.7)';\n        locationPanel.style.backdropFilter = 'blur(5px)';\n        locationPanel.style.borderRadius = '8px';\n        locationPanel.style.border = '1px solid rgba(120, 220, 232, 0.3)';\n        locationPanel.style.boxShadow = '0 0 15px rgba(120, 220, 232, 0.2)';\n        locationPanel.style.fontSize = '14px';\n        parent.appendChild(locationPanel);\n        \n        // Location name with icon\n        locationPanel.innerHTML = `\n            <div style=\"display:flex; align-items:center; gap:10px;\">\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z\" \n                          fill=\"rgba(120, 220, 232, 0.8)\"/>\n                </svg>\n                <span id=\"current-system\" style=\"font-weight:600; letter-spacing:1px;\">SOLAR SYSTEM</span>\n            </div>\n            <div id=\"location-coordinates\" style=\"margin-top:5px; font-size:12px; opacity:0.8;\">X: 0 Y: 0 Z: 0</div>\n            <div id=\"fps-display\" style=\"margin-top:5px; font-size:12px; opacity:0.8;\">FPS: 0</div>\n            <div style=\"margin-top:5px; display:flex; align-items:center; gap:10px; font-size:12px; opacity:0.8;\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" \n                          fill=\"rgba(120, 220, 232, 0.8)\"/>\n                    <path d=\"M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\" \n                          fill=\"rgba(120, 220, 232, 0.5)\"/>\n                </svg>\n                <span>ANOMALIES: <span id=\"anomaly-count\" style=\"font-weight:600;\">0</span></span>\n            </div>\n        `;\n        \n        // Add decorative corner effects\n        this.addCornerElements(locationPanel);\n    }\n    \n    createResourcePanel(parent) {\n        // Resource monitoring panel - top right\n        const resourcePanel = document.createElement('div');\n        resourcePanel.id = 'resource-panel';\n        resourcePanel.className = 'hud-panel';\n        resourcePanel.style.position = 'absolute';\n        resourcePanel.style.top = '20px';\n        resourcePanel.style.right = '20px';\n        resourcePanel.style.width = '180px';\n        resourcePanel.style.padding = '10px 15px';\n        resourcePanel.style.backgroundColor = 'rgba(6, 22, 31, 0.7)';\n        resourcePanel.style.backdropFilter = 'blur(5px)';\n        resourcePanel.style.borderRadius = '8px';\n        resourcePanel.style.border = '1px solid rgba(120, 220, 232, 0.3)';\n        resourcePanel.style.boxShadow = '0 0 15px rgba(120, 220, 232, 0.2)';\n        resourcePanel.style.fontSize = '14px';\n        parent.appendChild(resourcePanel);\n        \n        // Panel header\n        const resourceHeader = document.createElement('div');\n        resourceHeader.className = 'panel-header';\n        resourceHeader.innerHTML = '<span>CARGO BAY</span>';\n        resourceHeader.style.fontWeight = '600';\n        resourceHeader.style.fontSize = '12px';\n        resourceHeader.style.textTransform = 'uppercase';\n        resourceHeader.style.letterSpacing = '1px';\n        resourceHeader.style.marginBottom = '8px';\n        resourceHeader.style.paddingBottom = '5px';\n        resourceHeader.style.borderBottom = '1px solid rgba(120, 220, 232, 0.3)';\n        resourceHeader.style.display = 'flex';\n        resourceHeader.style.justifyContent = 'space-between';\n        resourceHeader.style.alignItems = 'center';\n        resourcePanel.appendChild(resourceHeader);\n        \n        // Add resources with hex icon prefixes\n        const createResourceRow = (name, id, hexColor) => {\n            const row = document.createElement('div');\n            row.style.display = 'flex';\n            row.style.alignItems = 'center';\n            row.style.justifyContent = 'space-between';\n            row.style.margin = '5px 0';\n            \n            // Hex icon with resource color\n            const hexIcon = document.createElement('div');\n            hexIcon.style.width = '12px';\n            hexIcon.style.height = '14px';\n            hexIcon.style.clipPath = 'polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)';\n            hexIcon.style.backgroundColor = hexColor;\n            hexIcon.style.marginRight = '8px';\n            \n            const label = document.createElement('div');\n            label.style.display = 'flex';\n            label.style.alignItems = 'center';\n            label.style.width = '50%';\n            label.style.fontSize = '12px';\n            label.appendChild(hexIcon);\n            label.appendChild(document.createTextNode(name));\n            \n            const value = document.createElement('div');\n            value.id = id;\n            value.style.width = '50%';\n            value.style.textAlign = 'right';\n            value.style.fontWeight = '600';\n            value.style.fontSize = '12px';\n            value.textContent = '0';\n            \n            row.appendChild(label);\n            row.appendChild(value);\n            resourcePanel.appendChild(row);\n        };\n        \n        createResourceRow('IRON', 'iron-amount', 'rgba(180, 180, 180, 0.8)');\n        createResourceRow('GOLD', 'gold-amount', 'rgba(255, 215, 0, 0.8)');\n        createResourceRow('PLATINUM', 'platinum-amount', 'rgba(229, 228, 226, 0.8)');\n        \n        // Add capacity meter\n        const capacityRow = document.createElement('div');\n        capacityRow.style.marginTop = '8px';\n        capacityRow.style.display = 'flex';\n        capacityRow.style.justifyContent = 'space-between';\n        capacityRow.style.alignItems = 'center';\n        capacityRow.style.borderTop = '1px solid rgba(120, 220, 232, 0.3)';\n        capacityRow.style.paddingTop = '8px';\n        resourcePanel.appendChild(capacityRow);\n        \n        const capacityLabel = document.createElement('div');\n        capacityLabel.textContent = 'CAPACITY';\n        capacityLabel.style.fontSize = '12px';\n        capacityRow.appendChild(capacityLabel);\n        \n        const capacityValue = document.createElement('div');\n        capacityValue.id = 'cargo-capacity';\n        capacityValue.textContent = '0 / 1000';\n        capacityValue.style.fontSize = '12px';\n        capacityValue.style.fontWeight = '600';\n        capacityRow.appendChild(capacityValue);\n        \n        // Add capacity bar\n        const capacityBarContainer = document.createElement('div');\n        capacityBarContainer.style.width = '100%';\n        capacityBarContainer.style.height = '5px';\n        capacityBarContainer.style.backgroundColor = 'rgba(10, 30, 40, 0.5)';\n        capacityBarContainer.style.borderRadius = '3px';\n        capacityBarContainer.style.overflow = 'hidden';\n        capacityBarContainer.style.marginTop = '5px';\n        resourcePanel.appendChild(capacityBarContainer);\n        \n        const capacityBar = document.createElement('div');\n        capacityBar.id = 'capacity-bar';\n        capacityBar.style.width = '0%';\n        capacityBar.style.height = '100%';\n        capacityBar.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        capacityBar.style.transition = 'width 0.3s ease';\n        capacityBarContainer.appendChild(capacityBar);\n        \n        // Add decorative corner elements\n        this.addCornerElements(resourcePanel);\n    }\n    \n    // Radar panel removed as per user request\n    \n    createNotificationsArea(parent) {\n        // Create notifications area in the top middle of the screen\n        const notificationsArea = document.createElement('div');\n        notificationsArea.id = 'notifications-area';\n        notificationsArea.style.position = 'absolute';\n        notificationsArea.style.top = '20px';\n        notificationsArea.style.left = '50%';\n        notificationsArea.style.transform = 'translateX(-50%)';\n        notificationsArea.style.display = 'flex';\n        notificationsArea.style.flexDirection = 'column';\n        notificationsArea.style.alignItems = 'center';\n        notificationsArea.style.gap = '10px';\n        parent.appendChild(notificationsArea);\n        \n        // Note: Survival timer has been removed - only horde mode timer will be used\n        \n        // Add horde mode indicator (hidden by default)\n        const hordeIndicator = document.createElement('div');\n        hordeIndicator.id = 'horde-mode-indicator';\n        hordeIndicator.className = 'hud-panel';\n        hordeIndicator.style.display = 'none'; // Hidden by default, will be changed to 'flex' when active\n        hordeIndicator.style.padding = '8px 12px';\n        hordeIndicator.style.backgroundColor = 'rgba(51, 10, 10, 0.8)';\n        hordeIndicator.style.backdropFilter = 'blur(5px)';\n        hordeIndicator.style.borderRadius = '8px';\n        hordeIndicator.style.border = '1px solid #ff3030';\n        hordeIndicator.style.boxShadow = '0 0 15px rgba(255, 48, 48, 0.5)';\n        hordeIndicator.style.animation = 'pulse-horde 2s infinite';\n        hordeIndicator.style.marginBottom = '10px';\n        hordeIndicator.style.fontSize = '18px';\n        hordeIndicator.style.fontWeight = '600';\n        hordeIndicator.style.letterSpacing = '1px';\n        \n        // Create a flex container for the horde mode indicator content\n        const hordeContent = document.createElement('div');\n        hordeContent.style.display = 'flex';\n        hordeContent.style.alignItems = 'center';\n        hordeContent.style.justifyContent = 'center';\n        hordeContent.style.gap = '10px';\n        \n        // Add the text and timer elements\n        const hordeLabel = document.createElement('span');\n        hordeLabel.style.color = '#ff3030';\n        hordeLabel.style.textShadow = '0 0 5px rgba(255,48,48,0.5)';\n        hordeLabel.textContent = 'HORDE MODE';\n        \n        const survivalTime = document.createElement('span');\n        survivalTime.id = 'horde-survival-time';\n        survivalTime.style.color = '#ff9999';\n        survivalTime.style.fontWeight = 'bold';\n        survivalTime.textContent = '00:00';\n        \n        // Add the elements to the container\n        hordeContent.appendChild(hordeLabel);\n        hordeContent.appendChild(survivalTime);\n        hordeIndicator.appendChild(hordeContent);\n        \n        // Add decorative corner elements\n        this.addCornerElements(hordeIndicator);\n        \n        notificationsArea.appendChild(hordeIndicator);\n        \n        // Add CSS for horde mode pulsing\n        const style = document.createElement('style');\n        style.textContent = `\n            @keyframes pulse-horde {\n                0% { box-shadow: 0 0 5px rgba(255, 30, 30, 0.5); }\n                50% { box-shadow: 0 0 10px rgba(255, 30, 30, 0.8); }\n                100% { box-shadow: 0 0 5px rgba(255, 30, 30, 0.5); }\n            }\n        `;\n        document.head.appendChild(style);\n    }\n    \n    // Helper methods for UI elements\n    createPanelRow(panel, label, id, defaultValue, isIndicator = false) {\n        const row = document.createElement('div');\n        row.className = 'panel-row';\n        row.style.display = 'flex';\n        row.style.justifyContent = 'space-between';\n        row.style.alignItems = 'center';\n        row.style.margin = '8px 0';\n        panel.appendChild(row);\n        \n        const labelEl = document.createElement('span');\n        labelEl.className = 'row-label';\n        labelEl.textContent = label;\n        row.appendChild(labelEl);\n        \n        const valueEl = document.createElement('span');\n        valueEl.id = id;\n        valueEl.className = 'row-value';\n        valueEl.textContent = defaultValue;\n        \n        if (isIndicator && defaultValue === 'ON') {\n            valueEl.style.color = '#5fff8f';\n        } else if (isIndicator && defaultValue === 'OFF') {\n            valueEl.style.color = '#ff7f7f';\n        }\n        \n        row.appendChild(valueEl);\n    }\n    \n    createStatusRow(panel, label, id, status) {\n        const row = document.createElement('div');\n        row.className = 'status-row';\n        row.style.display = 'flex';\n        row.style.justifyContent = 'space-between';\n        row.style.alignItems = 'center';\n        row.style.margin = '8px 0';\n        panel.appendChild(row);\n        \n        const labelEl = document.createElement('span');\n        labelEl.className = 'row-label';\n        labelEl.textContent = label;\n        labelEl.style.fontSize = '12px';\n        row.appendChild(labelEl);\n        \n        const valueEl = document.createElement('span');\n        valueEl.id = id;\n        valueEl.className = 'row-value';\n        valueEl.textContent = status;\n        valueEl.style.fontSize = '12px';\n        valueEl.style.fontWeight = '600';\n        \n        // Color based on status\n        if (status === 'NOMINAL') {\n            valueEl.style.color = 'rgba(120, 220, 232, 0.9)';\n        } else if (status === 'WARNING') {\n            valueEl.style.color = '#ffcc00';\n        } else if (status === 'CRITICAL') {\n            valueEl.style.color = '#ff3030';\n        }\n        \n        row.appendChild(valueEl);\n    }\n    \n    addHolographicElements(panel) {\n        // Add corner decorative elements only\n        this.addCornerElements(panel);\n    }\n    \n    addCornerElements(panel) {\n        // Top left corner\n        const topLeft = document.createElement('div');\n        topLeft.style.position = 'absolute';\n        topLeft.style.top = '0';\n        topLeft.style.left = '0';\n        topLeft.style.width = '10px';\n        topLeft.style.height = '10px';\n        topLeft.style.borderTop = '2px solid rgba(120, 220, 232, 0.8)';\n        topLeft.style.borderLeft = '2px solid rgba(120, 220, 232, 0.8)';\n        panel.appendChild(topLeft);\n        \n        // Top right corner\n        const topRight = document.createElement('div');\n        topRight.style.position = 'absolute';\n        topRight.style.top = '0';\n        topRight.style.right = '0';\n        topRight.style.width = '10px';\n        topRight.style.height = '10px';\n        topRight.style.borderTop = '2px solid rgba(120, 220, 232, 0.8)';\n        topRight.style.borderRight = '2px solid rgba(120, 220, 232, 0.8)';\n        panel.appendChild(topRight);\n        \n        // Bottom left corner\n        const bottomLeft = document.createElement('div');\n        bottomLeft.style.position = 'absolute';\n        bottomLeft.style.bottom = '0';\n        bottomLeft.style.left = '0';\n        bottomLeft.style.width = '10px';\n        bottomLeft.style.height = '10px';\n        bottomLeft.style.borderBottom = '2px solid rgba(120, 220, 232, 0.8)';\n        bottomLeft.style.borderLeft = '2px solid rgba(120, 220, 232, 0.8)';\n        panel.appendChild(bottomLeft);\n        \n        // Bottom right corner\n        const bottomRight = document.createElement('div');\n        bottomRight.style.position = 'absolute';\n        bottomRight.style.bottom = '0';\n        bottomRight.style.right = '0';\n        bottomRight.style.width = '10px';\n        bottomRight.style.height = '10px';\n        bottomRight.style.borderBottom = '2px solid rgba(120, 220, 232, 0.8)';\n        bottomRight.style.borderRight = '2px solid rgba(120, 220, 232, 0.8)';\n        panel.appendChild(bottomRight);\n    }\n    \n    // Animation for HUD appearance\n    animateHudIn() {\n        // Add styling for animations\n        const style = document.createElement('style');\n        style.textContent = `\n            @keyframes pulse {\n                0% { opacity: 0.7; }\n                50% { opacity: 1; }\n                100% { opacity: 0.7; }\n            }\n            \n            @keyframes radar-ping {\n                0% { transform: translate(-50%, -50%) scale(0); opacity: 0.5; }\n                100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }\n            }\n            \n            @keyframes text-flicker {\n                0% { opacity: 1; }\n                3% { opacity: 0.4; }\n                6% { opacity: 1; }\n                9% { opacity: 0.4; }\n                12% { opacity: 1; }\n                35% { opacity: 1; }\n                38% { opacity: 0.4; }\n                41% { opacity: 1; }\n                100% { opacity: 1; }\n            }\n            \n            @keyframes blink {\n                0% { opacity: 1; }\n                49% { opacity: 1; }\n                50% { opacity: 0; }\n                100% { opacity: 0; }\n            }\n        `;\n        document.head.appendChild(style);\n        \n        // Add glitch effect for initialization\n        this.addStartupGlitchEffect();\n        \n        // Animate scanlines\n        setTimeout(() => {\n            if (this.scanline) {\n                this.animateScanline();\n            }\n        }, 1500);\n    }\n    \n    addStartupGlitchEffect() {\n        // Add glitch animation to show HUD is starting up\n        const hudContainer = document.getElementById('hud-container');\n        if (!hudContainer) return;\n        \n        // Incremental fade-in with glitches\n        setTimeout(() => {\n            hudContainer.style.opacity = '0.3';\n            this.addGlitch(hudContainer);\n        }, 300);\n        \n        setTimeout(() => {\n            hudContainer.style.opacity = '0.7';\n            this.addGlitch(hudContainer);\n        }, 800);\n        \n        setTimeout(() => {\n            hudContainer.style.opacity = '1';\n            this.addGlitch(hudContainer);\n        }, 1200);\n        \n        // Start random glitch effects at intervals\n        this.glitchInterval = setInterval(() => {\n            if (Math.random() > 0.7) {\n                this.addGlitch(hudContainer);\n            }\n        }, 5000);\n    }\n    \n    addGlitch(element) {\n        // Create a temporary animation\n        const glitchAnimation = `\n            @keyframes glitch-${Date.now()} {\n                0% { transform: translate(0, 0) skew(0deg); filter: hue-rotate(0deg); }\n                1% { transform: translate(2px, 2px) skew(1deg); filter: hue-rotate(90deg); }\n                2% { transform: translate(-2px, -3px) skew(-1deg); filter: hue-rotate(180deg); }\n                3% { transform: translate(0, 0) skew(0deg); filter: hue-rotate(0deg); }\n                12% { clip-path: inset(0 0 0 0); }\n                13% { clip-path: inset(10% 0 0 0); }\n                14% { clip-path: inset(0 0 0 0); }\n                15% { clip-path: inset(0 0 10% 0); }\n                16% { clip-path: inset(0 0 0 0); }\n                100% { transform: translate(0, 0) skew(0deg); filter: hue-rotate(0deg); }\n            }\n        `;\n        \n        // Add animation to document\n        const style = document.createElement('style');\n        style.textContent = glitchAnimation;\n        document.head.appendChild(style);\n        \n        // Apply animation\n        const animationName = `glitch-${Date.now()}`;\n        element.style.animation = `${animationName} 1s forwards`;\n        \n        // Remove animation after it's complete\n        setTimeout(() => {\n            element.style.animation = '';\n            style.remove();\n        }, 1000);\n    }\n    \n    animateScanline() {\n        // Animate the scanline moving down the screen\n        let position = 0;\n        const height = window.innerHeight;\n        \n        const moveScanline = () => {\n            if (!this.scanline) return;\n            position = (position + 2) % height;\n            this.scanline.style.top = `${position}px`;\n            \n            // Add random flicker\n            if (Math.random() > 0.97) {\n                this.scanline.style.opacity = '0';\n                setTimeout(() => {\n                    if (this.scanline) {\n                        this.scanline.style.opacity = '0.7';\n                    }\n                }, 50);\n            }\n            \n            this.animationFrames.push(requestAnimationFrame(moveScanline));\n        };\n        \n        moveScanline();\n    }\n    \n    update() {\n        if (!this.spaceship) return;\n        \n        // Update shield display\n        this.updateShieldDisplay();\n        \n        // Update hull display\n        this.updateHullDisplay();\n        \n        // Update fuel display\n        const fuelBar = document.getElementById('fuel-bar');\n        const fuelValue = document.getElementById('fuel-value');\n        if (fuelBar) {\n            // Correctly calculate fuel percentage based on maxFuel\n            const fuelPercent = this.spaceship.maxFuel > 0 ? \n                (this.spaceship.fuel / this.spaceship.maxFuel) * 100 : 0;\n            \n            fuelBar.style.width = `${fuelPercent}%`;\n            \n            // Change color based on fuel level\n            if (fuelPercent < 20) {\n                fuelBar.style.backgroundColor = 'rgba(255, 80, 80, 0.8)';\n            } else if (fuelPercent < 40) {\n                fuelBar.style.backgroundColor = 'rgba(255, 204, 0, 0.8)';\n            } else {\n                fuelBar.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n            }\n            \n            // Update text display if it exists\n            if (fuelValue) {\n                fuelValue.textContent = `${Math.round(this.spaceship.fuel)} / ${Math.round(this.spaceship.maxFuel)}`;\n            }\n        }\n        \n        // Update credits display\n        const creditsDisplay = document.getElementById('credits-value');\n        if (creditsDisplay) {\n            creditsDisplay.textContent = `${this.spaceship.credits} CR`;\n        }\n        \n        // Update horde mode indicator and timer\n        this.updateHordeModeDisplay();\n    }\n    \n    /**\n     * Update the horde mode indicator and survival timer\n     */\n    updateHordeModeDisplay() {\n        const hordeIndicator = document.getElementById('horde-mode-indicator');\n        const survivalTime = document.getElementById('horde-survival-time');\n        \n        if (!hordeIndicator || !survivalTime) return;\n        \n        // Check if horde mode is active in the game\n        if (window.game && window.game.isHordeActive) {\n            // Show the indicator if not already visible\n            if (hordeIndicator.style.display === 'none') {\n                hordeIndicator.style.display = 'flex';\n            }\n            \n            // Update the survival time display\n            if (window.game.getFormattedHordeSurvivalTime) {\n                survivalTime.textContent = window.game.getFormattedHordeSurvivalTime();\n            } else {\n                // Fallback calculation if method not available\n                const totalSeconds = Math.floor(window.game.hordeSurvivalTime / 1000);\n                const minutes = Math.floor(totalSeconds / 60);\n                const seconds = totalSeconds % 60;\n                survivalTime.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n            }\n            \n            // Increase pulsing intensity based on survival time\n            // After 3 minutes, make the pulsing more urgent\n            if (window.game.hordeSurvivalTime > 3 * 60 * 1000) {\n                const styleEl = document.createElement('style');\n                styleEl.textContent = `\n                    @keyframes pulse-horde {\n                        0% { box-shadow: 0 0 8px rgba(255, 30, 30, 0.7); }\n                        50% { box-shadow: 0 0 15px rgba(255, 30, 30, 1); }\n                        100% { box-shadow: 0 0 8px rgba(255, 30, 30, 0.7); }\n                    }\n                `;\n                document.head.appendChild(styleEl);\n                \n                // Make animation faster\n                hordeIndicator.style.animation = 'pulse-horde 1s infinite';\n            }\n        } else {\n            // Hide the indicator if horde mode is not active\n            hordeIndicator.style.display = 'none';\n        }\n    }\n    \n    // Add a new method to update shield display directly from HealthComponent\n    updateShieldDisplay() {\n        const shieldBar = document.getElementById('shield-bar');\n        if (!shieldBar) return;\n        \n        let shieldPercentage = 100;\n        let shieldFound = false;\n        \n        // Try to directly access player's health component\n        try {\n            if (window.game && window.game.world) {\n                const players = window.game.world.getEntitiesByTag('player');\n                if (players && players.length > 0) {\n                    const player = players[0];\n                    const health = player.getComponent('HealthComponent');\n                    \n                    if (health) {\n                        shieldPercentage = health.getShieldPercentage();\n                        \n                        // Ensure spaceship object is in sync with the HealthComponent\n                        if (this.spaceship) {\n                            // If HealthComponent shield is higher, use that value\n                            if (health.shield > this.spaceship.shield) {\n                                this.spaceship.shield = health.shield;\n                                this.spaceship.maxShield = health.maxShield;\n                            } \n                            // If spaceship shield is higher (e.g., after repair), update health component\n                            else if (this.spaceship.shield > health.shield) {\n                                health.shield = this.spaceship.shield;\n                                console.log(`Updated HealthComponent shield from spaceship: ${health.shield}`);\n                                // Recalculate shield percentage\n                                shieldPercentage = health.getShieldPercentage();\n                            }\n                        }\n                        \n                        shieldFound = true;\n                    }\n                }\n            }\n        } catch (e) {\n            console.error(\"Error accessing player shield component:\", e);\n        }\n        \n        // Fallback to spaceship object if health component not found\n        if (!shieldFound && this.spaceship && this.spaceship.shield !== undefined) {\n            shieldPercentage = (this.spaceship.shield / this.spaceship.maxShield) * 100;\n        }\n        \n        // Update the shield bar\n        shieldBar.style.width = `${shieldPercentage}%`;\n        \n        // Change color based on shield status\n        if (shieldPercentage < 25) {\n            shieldBar.style.backgroundColor = 'rgba(255, 80, 80, 0.8)'; // Red for low shields\n        } else if (shieldPercentage < 50) {\n            shieldBar.style.backgroundColor = 'rgba(255, 204, 0, 0.8)'; // Yellow for medium shields\n        } else {\n            shieldBar.style.backgroundColor = 'rgba(51, 153, 255, 0.8)'; // Blue for healthy shields\n        }\n    }\n    \n    // New method to update hull display directly from HealthComponent if possible\n    updateHullDisplay() {\n        const hullBar = document.getElementById('hull-bar');\n        if (!hullBar) return;\n        \n        let hullPercentage = 100;\n        let healthFound = false;\n        \n        // Try to directly access player's health component\n        try {\n            if (window.game && window.game.world) {\n                const players = window.game.world.getEntitiesByTag('player');\n                if (players && players.length > 0) {\n                    const player = players[0];\n                    const health = player.getComponent('HealthComponent');\n                    \n                    if (health) {\n                        hullPercentage = health.getHealthPercentage();\n                        \n                        // Ensure spaceship object is in sync with the HealthComponent\n                        if (this.spaceship) {\n                            // If HealthComponent health is higher, use that value\n                            if (health.health > this.spaceship.hull) {\n                                this.spaceship.hull = health.health;\n                                this.spaceship.maxHull = health.maxHealth;\n                            }\n                            // If spaceship hull is higher (e.g., after repair), update health component\n                            else if (this.spaceship.hull > health.health) {\n                                health.health = this.spaceship.hull;\n                                console.log(`Updated HealthComponent health from spaceship: ${health.health}`);\n                                // Recalculate hull percentage\n                                hullPercentage = health.getHealthPercentage();\n                            }\n                        }\n                        \n                        healthFound = true;\n                    }\n                }\n            }\n        } catch (e) {\n            console.error(\"Error accessing player health component:\", e);\n        }\n        \n        // Fallback to spaceship object if health component not found\n        if (!healthFound && this.spaceship && this.spaceship.hull !== undefined) {\n            hullPercentage = (this.spaceship.hull / this.spaceship.maxHull) * 100;\n        }\n        \n        // Update the hull bar\n        hullBar.style.width = `${hullPercentage}%`;\n        \n        // Change color based on hull status\n        if (hullPercentage < 30) {\n            hullBar.style.backgroundColor = 'rgba(255, 80, 80, 0.8)';\n        } else if (hullPercentage < 60) {\n            hullBar.style.backgroundColor = 'rgba(255, 204, 0, 0.8)';\n        } else {\n            hullBar.style.backgroundColor = 'rgba(120, 220, 232, 0.8)';\n        }\n    }\n    \n    updateLocation(locationName, systemName = 'Unknown System') {\n        // Update system name in location panel\n        const currentSystem = document.getElementById('current-system');\n        \n        if (currentSystem) {\n            currentSystem.textContent = systemName.toUpperCase();\n            \n            // Add glitch effect during location change\n            const locationPanel = document.getElementById('location-panel');\n            if (locationPanel) {\n                this.addGlitch(locationPanel);\n            }\n        }\n    }\n    \n    updateCoordinates(x, y, z) {\n        const coordsElement = document.getElementById('location-coordinates');\n        if (coordsElement) {\n            coordsElement.textContent = `X: ${Math.round(x)} Y: ${Math.round(y)} Z: ${Math.round(z)}`;\n        }\n    }\n    \n    updateFPS(fps, cap) {\n        const fpsElement = document.getElementById('fps-display');\n        if (fpsElement) {\n            if (cap) {\n                // Show actual FPS and the cap\n                fpsElement.textContent = `FPS: ${Math.round(fps)}/${cap}`;\n                \n                // Color code based on performance relative to cap\n                if (fps < cap * 0.9) {\n                    // Below 90% of target - indicate performance issues\n                    fpsElement.style.color = \"rgba(255, 120, 120, 0.9)\";\n                } else {\n                    // Normal performance - standard color\n                    fpsElement.style.color = \"rgba(120, 220, 232, 0.8)\";\n                }\n            } else {\n                // Just show FPS for uncapped mode\n                fpsElement.textContent = `FPS: ${Math.round(fps)}`;\n                fpsElement.style.color = \"rgba(120, 220, 232, 0.8)\";\n            }\n            \n            // Add auto indicator if using monitor refresh rate\n            if (window.game && \n                window.game.ui && \n                window.game.ui.settings && \n                window.game.ui.settings.settings.frameRateCap === 'auto') {\n                \n                const refreshRate = window.game.ui.settings.monitorRefreshRate || 60;\n                \n                if (cap > 0) {\n                    // Show it's using auto mode with the detected refresh rate\n                    fpsElement.textContent = `FPS: ${Math.round(fps)}/${cap} (Auto)`;\n                } else {\n                    // Using unlimited because refresh rate is high\n                    fpsElement.textContent = `FPS: ${Math.round(fps)} (Auto: Unlimited)`;\n                }\n            }\n        }\n    }\n    \n    hide() {\n        // Hide HUD container\n        const hudContainer = document.getElementById('hud-container');\n        if (hudContainer) {\n            hudContainer.style.opacity = '0';\n        }\n        \n        // Clear animation frames\n        this.animationFrames.forEach(frame => cancelAnimationFrame(frame));\n        this.animationFrames = [];\n        \n        // Clear glitch interval\n        if (this.glitchInterval) {\n            clearInterval(this.glitchInterval);\n        }\n    }\n    \n    show() {\n        // Show HUD container\n        const hudContainer = document.getElementById('hud-container');\n        if (hudContainer) {\n            hudContainer.style.opacity = '1';\n        }\n        \n        // Restart scanline animation\n        if (this.scanline) {\n            this.animateScanline();\n        }\n        \n        // Restart glitch interval\n        if (!this.glitchInterval) {\n            this.glitchInterval = setInterval(() => {\n                if (Math.random() > 0.7) {\n                    this.addGlitch(hudContainer);\n                }\n            }, 5000);\n        }\n    }\n    \n    /**\n     * Clean up resources and event listeners\n     */\n    destroy() {\n        // Cancel any active animation frames\n        this.animationFrames.forEach(frameId => {\n            cancelAnimationFrame(frameId);\n        });\n        this.animationFrames = [];\n        \n        // Clear intervals\n        if (this.glitchInterval) {\n            clearInterval(this.glitchInterval);\n            this.glitchInterval = null;\n        }\n        \n        // Remove DOM event listeners\n        const controls = document.getElementById('show-controls');\n        if (controls) {\n            controls.removeEventListener('click', controls.clickHandler);\n            controls.removeEventListener('mouseover', controls.mouseoverHandler);\n            controls.removeEventListener('mouseout', controls.mouseoutHandler);\n        }\n        \n        // Remove DOM elements\n        const hudContainer = document.getElementById('hud-container');\n        if (hudContainer && hudContainer.parentNode) {\n            hudContainer.parentNode.removeChild(hudContainer);\n        }\n        \n        // Clear references\n        this.spaceship = null;\n        this.scanline = null;\n    }\n}","// stargateInterface.js - Handles the stargate docking and trading UI\n\nimport { MobileDetector } from '../../utils/mobileDetector.js';\n\nexport class StargateInterface {\n    constructor() {\n        this.starMap = null;\n        this.blackjackGame = null;\n        this.settings = null;\n        this.isMobile = MobileDetector.isMobile();\n        this.setupStargateUI();\n        this.setupEventHandlers();\n    }\n    \n    setStarMap(starMap) {\n        this.starMap = starMap;\n    }\n    \n    setBlackjackGame(blackjackGame) {\n        this.blackjackGame = blackjackGame;\n    }\n    \n    setSettings(settings) {\n        this.settings = settings;\n        \n        // Pass the stargate interface reference to settings\n        if (this.settings) {\n            this.settings.setStargateInterface(this);\n        }\n        \n        // Setup settings button handler now that we have settings\n        this.setupSettingsButton();\n    }\n    \n    setupStargateUI() {\n        // Add CSS for animations\n        const style = document.createElement('style');\n        style.textContent = `\n            @keyframes pulse-warning {\n                0% { box-shadow: 0 0 15px rgba(255, 48, 48, 0.5); }\n                50% { box-shadow: 0 0 25px rgba(255, 48, 48, 0.8); }\n                100% { box-shadow: 0 0 15px rgba(255, 48, 48, 0.5); }\n            }\n            \n            /* Stargate Terminal Styles */\n            #stargate-ui {\n                --primary-bg: rgba(20, 30, 50, 0.9);\n                --primary-border: #33aaff;\n                --section-bg: rgba(10, 20, 35, 0.8);\n                --accent-blue: #33aaff;\n                --accent-green: #00cc33;\n                --accent-orange: #ff9900;\n                --accent-red: #ff3030;\n                --accent-purple: #9933cc;\n                --accent-cyan: #30cfd0;\n                \n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                width: 80%;\n                max-width: 1000px;\n                max-height: 90vh;\n                background-color: var(--primary-bg);\n                color: #fff;\n                border-radius: 15px;\n                border: 2px solid var(--primary-border);\n                box-shadow: 0 0 30px var(--primary-border);\n                font-family: 'Courier New', monospace;\n                z-index: 1000;\n                display: none;\n                overflow-y: auto;\n                overflow-x: hidden;\n                padding: 0;\n            }\n            \n            #stargate-header {\n                background-color: rgba(30, 40, 60, 0.9);\n                padding: 15px 20px;\n                border-bottom: 1px solid var(--primary-border);\n                position: sticky;\n                top: 0;\n                z-index: 10;\n            }\n            \n            #stargate-content {\n                display: grid;\n                grid-template-columns: 1fr 1fr 1fr;\n                gap: 20px;\n                padding: 20px;\n            }\n            \n            .stargate-section {\n                background-color: var(--section-bg);\n                border-radius: 10px;\n                padding: 15px;\n                border: 1px solid rgba(51, 170, 255, 0.3);\n            }\n            \n            .stargate-section h3 {\n                color: var(--accent-blue);\n                margin-top: 0;\n                margin-bottom: 15px;\n                padding-bottom: 8px;\n                border-bottom: 1px solid rgba(51, 170, 255, 0.3);\n                font-size: 1.2em;\n            }\n            \n            /* Ship Status Section */\n            #ship-status-section {\n                grid-column: 1;\n                display: flex;\n                flex-direction: column;\n                gap: 15px;\n            }\n            \n            .resources-container {\n                display: flex;\n                gap: 5px;\n                margin-bottom: 10px;\n            }\n            \n            .resource-display {\n                flex: 1;\n                padding: 8px;\n                background-color: rgba(15, 40, 55, 0.8);\n                border-radius: 5px;\n                text-align: center;\n            }\n            \n            .status-bar-container {\n                width: 100%;\n                height: 15px;\n                background-color: #222;\n                border-radius: 10px;\n                overflow: hidden;\n                margin-bottom: 5px;\n            }\n            \n            .status-bar {\n                height: 100%;\n                border-radius: 10px;\n            }\n            \n            .status-label {\n                display: flex;\n                justify-content: space-between;\n                margin-bottom: 5px;\n                font-size: 0.9em;\n            }\n            \n            /* Market Section */\n            #market-section {\n                grid-column: 2;\n                grid-row: 1 ;\n            }\n            \n            .sell-buttons {\n                display: grid;\n                grid-template-columns: 1fr 1fr 1fr;\n                gap: 5px;\n                margin-bottom: 15px;\n            }\n            \n            .sell-btn {\n                padding: 10px;\n                background-color: rgba(15, 40, 55, 0.8);\n                color: #fff;\n                border-radius: 5px;\n                cursor: pointer;\n                text-align: center;\n                transition: all 0.2s;\n                border: none;\n                font-family: 'Courier New', monospace;\n            }\n            \n            .orb-buttons {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 8px;\n            }\n            \n            /* Upgrades Section */\n            #upgrades-section {\n                grid-column: 3;\n                grid-row: 1;\n            }\n            \n            .upgrade-item {\n                margin-bottom: 15px;\n                border: 1px solid rgba(85, 85, 85, 0.5);\n                border-radius: 8px;\n                padding: 12px;\n                background-color: rgba(0, 0, 0, 0.3);\n            }\n            \n            .upgrade-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                margin-bottom: 10px;\n            }\n            \n            .upgrade-progress {\n                position: relative;\n                height: 8px;\n                background-color: #333;\n                border-radius: 4px;\n                margin-bottom: 12px;\n            }\n            \n            .upgrade-progress-bar {\n                position: absolute;\n                top: 0;\n                left: 0;\n                height: 100%;\n                width: 20%;\n                border-radius: 4px;\n            }\n            \n            .upgrade-footer {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n            \n            .upgrade-description {\n                flex: 2;\n                padding-right: 10px;\n                font-size: 0.85em;\n                opacity: 0.8;\n            }\n            \n            /* Features Section */\n            #features-section {\n                grid-column: 1 / span 2;\n                grid-row: 2;\n            }\n            \n            .feature-buttons {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 15px;\n            }\n            \n            .feature-btn {\n                padding: 15px;\n                border: none;\n                border-radius: 5px;\n                cursor: pointer;\n                font-family: 'Courier New', monospace;\n                font-weight: bold;\n                font-size: 16px;\n                color: #fff;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                min-height: 80px;\n            }\n            \n            .feature-btn small {\n                font-size: 0.8em;\n                opacity: 0.8;\n                margin-top: 5px;\n            }\n            \n            /* Challenge Section */\n            #challenge-section {\n                border-color: rgba(255, 48, 48, 0.5);\n            }\n            \n            #challenge-section h3 {\n                color: var(--accent-red);\n                border-color: rgba(255, 48, 48, 0.3);\n            }\n            \n            /* Footer */\n            #stargate-footer {\n                padding: 20px;\n                border-top: 1px solid rgba(51, 170, 255, 0.3);\n                text-align: center;\n            }\n            \n            /* Common Button Styles */\n            .action-btn {\n                width: 100%;\n                padding: 10px;\n                border: none;\n                border-radius: 5px;\n                cursor: pointer;\n                font-family: 'Courier New', monospace;\n                font-weight: bold;\n                color: #000;\n                margin-top: 5px;\n            }\n            \n            /* Custom colors for buttons */\n            .btn-fuel { background-color: var(--accent-green); }\n            .btn-shield { background-color: var(--accent-blue); }\n            .btn-hull { background-color: var(--accent-orange); }\n            .btn-starmap { background-color: var(--accent-cyan); }\n            .btn-blackjack { background-color: var(--accent-purple); }\n            .btn-settings { background-color: var(--accent-blue); }\n            .btn-horde { \n                background: linear-gradient(135deg, #990000 0%, var(--accent-red) 100%);\n                color: #fff;\n                border: 2px solid var(--accent-red);\n                box-shadow: 0 0 15px rgba(255, 48, 48, 0.5);\n                animation: pulse-warning 2s infinite;\n            }\n            .btn-undock {\n                background-color: var(--accent-blue);\n                font-size: 1.2em;\n                padding: 15px;\n            }\n            \n            .iron-border { border: 1px solid #cc6633; box-shadow: 0 0 10px rgba(204, 102, 51, 0.3); }\n            .gold-border { border: 1px solid #ffcc33; box-shadow: 0 0 10px rgba(255, 204, 51, 0.3); }\n            .platinum-border { border: 1px solid #33ccff; box-shadow: 0 0 10px rgba(51, 204, 255, 0.3); }\n            .common-border { border: 1px solid #00ff66; box-shadow: 0 0 10px rgba(0, 255, 102, 0.3); }\n            .uncommon-border { border: 1px solid #0066ff; box-shadow: 0 0 10px rgba(0, 102, 255, 0.3); }\n            .rare-border { border: 1px solid #9900ff; box-shadow: 0 0 10px rgba(153, 0, 255, 0.3); }\n            .epic-border { border: 1px solid #ff6600; box-shadow: 0 0 10px rgba(255, 102, 0, 0.3); }\n            .legendary-border { border: 1px solid #ff0000; box-shadow: 0 0 10px rgba(255, 0, 0, 0.3); }\n            \n            /* Mobile Responsiveness */\n            @media (max-width: 900px) {\n                #stargate-ui {\n                    width: 95%;\n                    max-width: 95vw;\n                    max-height: 85vh;\n                    border-radius: 10px;\n                }\n                \n                #stargate-content {\n                    grid-template-columns: 1fr;\n                    gap: 15px;\n                    padding: 15px;\n                }\n                \n                #ship-status-section,\n                #market-section,\n                #upgrades-section,\n                #features-section {\n                    grid-column: 1;\n                }\n                \n                .feature-buttons {\n                    grid-template-columns: 1fr;\n                }\n                \n                .sell-buttons {\n                    grid-template-columns: 1fr 1fr;\n                }\n                \n                .action-btn {\n                    padding: 12px;\n                    min-height: 44px;\n                }\n                \n                .upgrade-footer {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n                \n                .upgrade-description {\n                    margin-bottom: 10px;\n                }\n            }\n            \n            #horde-confirm-modal {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0, 0, 0, 0.8);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 2000;\n            }\n            \n            #horde-confirm-content {\n                background-color: rgba(30, 30, 35, 0.95);\n                border: 2px solid #ff3030;\n                border-radius: 10px;\n                padding: 30px;\n                max-width: 500px;\n                width: 80%;\n                color: #fff;\n                box-shadow: 0 0 30px rgba(255, 48, 48, 0.7);\n                text-align: center;\n            }\n            \n            .horde-confirm-title {\n                color: #ff3030;\n                font-size: 24px;\n                margin-bottom: 20px;\n                font-weight: bold;\n                text-shadow: 0 0 10px rgba(255, 48, 48, 0.5);\n            }\n            \n            .horde-confirm-text {\n                margin-bottom: 25px;\n                line-height: 1.5;\n            }\n            \n            .horde-confirm-buttons {\n                display: flex;\n                justify-content: space-between;\n            }\n            \n            .horde-confirm-btn {\n                padding: 12px 25px;\n                border-radius: 5px;\n                border: none;\n                font-family: 'Courier New', monospace;\n                font-weight: bold;\n                cursor: pointer;\n                width: 45%;\n            }\n            \n            .horde-confirm-yes {\n                background-color: #ff3030;\n                color: #fff;\n            }\n            \n            .horde-confirm-no {\n                background-color: #333;\n                color: #fff;\n            }\n        `;\n        document.head.appendChild(style);\n        \n        // Add docking prompt\n        const dockingPrompt = document.createElement('div');\n        dockingPrompt.id = 'docking-prompt';\n        dockingPrompt.style.position = 'absolute';\n        dockingPrompt.style.top = '50%';\n        dockingPrompt.style.left = '50%';\n        dockingPrompt.style.transform = 'translate(-50%, -50%)';\n        dockingPrompt.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\n        dockingPrompt.style.color = '#33aaff';\n        dockingPrompt.style.padding = '20px';\n        dockingPrompt.style.borderRadius = '10px';\n        dockingPrompt.style.border = '2px solid #33aaff';\n        dockingPrompt.style.boxShadow = '0 0 20px #33aaff';\n        dockingPrompt.style.fontFamily = 'Courier New, monospace';\n        dockingPrompt.style.fontSize = '18px';\n        dockingPrompt.style.textAlign = 'center';\n        dockingPrompt.style.zIndex = '1000';\n        dockingPrompt.style.display = 'none';\n        \n        // Update prompt text based on device - on mobile, we don't need this prompt\n        // since we have an actual interactive DOCK button\n        if (this.isMobile) {\n            // On mobile, we'll hide this text prompt completely since we have a dedicated dock button\n            dockingPrompt.style.display = 'none';\n            dockingPrompt.dataset.alwaysHide = 'true'; // Mark to keep it hidden\n        } else {\n            dockingPrompt.textContent = 'Press Q to dock with Stargate';\n        }\n        \n        document.body.appendChild(dockingPrompt);\n        \n        // Create stargate interface (hidden by default)\n        const stargateUI = document.createElement('div');\n        stargateUI.id = 'stargate-ui';\n        \n        // Use responsive width based on device type\n        if (this.isMobile) {\n            stargateUI.style.width = '95%';\n            stargateUI.style.maxWidth = '95vw';\n            \n            // Add touch scrolling properties for mobile\n            stargateUI.style.webkitOverflowScrolling = 'touch';\n            stargateUI.style.touchAction = 'pan-y';\n            stargateUI.style.overscrollBehavior = 'contain';\n        }\n        \n        // Create the improved stargate UI structure\n        stargateUI.innerHTML = `\n            <!-- Header -->\n            <div id=\"stargate-header\">\n                <h2 style=\"text-align: center; color: #33aaff; margin: 0;\">STARGATE TERMINAL</h2>\n            </div>\n            \n            <!-- Main Content Grid -->\n            <div id=\"stargate-content\">\n                <!-- Ship Status Section -->\n                <div id=\"ship-status-section\" class=\"stargate-section\">\n                    <h3>SHIP STATUS</h3>\n                    \n                    <!-- Resources section -->\n                    <div>\n                        <h4 style=\"color: #33aaff; margin-top: 0; margin-bottom: 10px;\">RESOURCES</h4>\n                        <div class=\"resources-container\">\n                            <div class=\"resource-display iron-border\">\n                                <div style=\"font-weight: bold; font-size: 14px;\">IRON</div>\n                                <div id=\"ms-iron\" style=\"font-size: 18px; margin-top: 5px;\">0</div>\n                                <div style=\"font-size: 10px; opacity: 0.7;\">UNITS</div>\n                            </div>\n                            <div class=\"resource-display gold-border\">\n                                <div style=\"font-weight: bold; font-size: 14px;\">GOLD</div>\n                                <div id=\"ms-gold\" style=\"font-size: 18px; margin-top: 5px;\">0</div>\n                                <div style=\"font-size: 10px; opacity: 0.7;\">UNITS</div>\n                            </div>\n                            <div class=\"resource-display platinum-border\">\n                                <div style=\"font-weight: bold; font-size: 14px;\">PLATINUM</div>\n                                <div id=\"ms-platinum\" style=\"font-size: 18px; margin-top: 5px;\">0</div>\n                                <div style=\"font-size: 10px; opacity: 0.7;\">UNITS</div>\n                            </div>\n                        </div>\n                        \n                        <div style=\"margin-top: 15px;\">\n                            <h4 style=\"color: #33aaff; margin-top: 0; margin-bottom: 10px;\">CREDITS</h4>\n                            <div id=\"ms-credits\" style=\"font-size: 18px; font-weight: bold; color: #ffcc33; text-shadow: 0 0 5px rgba(255, 204, 51, 0.5);\">0 CR</div>\n                        </div>\n                    </div>\n                    \n                    <!-- Fuel section -->\n                    <div>\n                        <div class=\"status-label\">\n                            <h4 style=\"color: #00cc33; margin: 0;\">FUEL</h4>\n                            <span><span id=\"fuel-level\">100</span>%</span>\n                        </div>\n                        <div class=\"status-bar-container\" id=\"fuel-gauge-container\">\n                            <div class=\"status-bar\" id=\"fuel-gauge\" style=\"background-color: #00cc33; width: 100%;\"></div>\n                        </div>\n                        <button id=\"refuel-btn\" class=\"action-btn btn-fuel\">REFUEL (100 CR)</button>\n                    </div>\n                    \n                    <!-- Shield section -->\n                    <div>\n                        <div class=\"status-label\">\n                            <h4 style=\"color: #3399ff; margin: 0;\">SHIELD</h4>\n                            <span><span id=\"shield-level\">100</span>%</span>\n                        </div>\n                        <div class=\"status-bar-container\" id=\"shield-gauge-container\">\n                            <div class=\"status-bar\" id=\"shield-gauge\" style=\"background-color: #3399ff; width: 100%;\"></div>\n                        </div>\n                        <button id=\"repair-shield-btn\" class=\"action-btn btn-shield\">REPAIR SHIELD (150 CR)</button>\n                    </div>\n                    \n                    <!-- Hull section -->\n                    <div>\n                        <div class=\"status-label\">\n                            <h4 style=\"color: #ff9900; margin: 0;\">HULL INTEGRITY</h4>\n                            <span><span id=\"hull-level\">100</span>%</span>\n                        </div>\n                        <div class=\"status-bar-container\" id=\"hull-gauge-container\">\n                            <div class=\"status-bar\" id=\"hull-gauge\" style=\"background-color: #ff9900; width: 100%;\"></div>\n                        </div>\n                        <button id=\"repair-hull-btn\" class=\"action-btn btn-hull\">REPAIR HULL (200 CR)</button>\n                    </div>\n                </div>\n                \n                <!-- Market Section (Now spans 2 rows) -->\n                <div id=\"market-section\" class=\"stargate-section\">\n                    <h3>MARKET</h3>\n                    \n                    <!-- Resources Market -->\n                    <h4 style=\"color: #33aaff; margin-top: 0; margin-bottom: 10px;\">MATERIALS</h4>\n                    <div class=\"sell-buttons\">\n                        <button id=\"sell-iron\" class=\"sell-btn iron-border\">\n                            <div style=\"font-weight: bold;\">SELL IRON</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(10 CR each)</div>\n                        </button>\n                        <button id=\"sell-gold\" class=\"sell-btn gold-border\">\n                            <div style=\"font-weight: bold;\">SELL GOLD</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(50 CR each)</div>\n                        </button>\n                        <button id=\"sell-platinum\" class=\"sell-btn platinum-border\">\n                            <div style=\"font-weight: bold;\">SELL PLATINUM</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(200 CR each)</div>\n                        </button>\n                    </div>\n                    \n                    <!-- Energy Orbs Market -->\n                    <h4 style=\"color: #33aaff; margin-top: 20px; margin-bottom: 10px;\">ENERGY ORBS</h4>\n                    <div style=\"font-size: 14px; color: #aaa; margin-bottom: 10px;\">\n                        Valuable artifacts collected from space anomalies. Increasing rarity yields higher value.\n                    </div>\n                    \n                    <div class=\"orb-buttons\">\n                        <button id=\"sell-orb-common\" class=\"sell-btn common-border\">\n                            <div style=\"font-weight: bold;\">COMMON ORB</div>\n                            <div id=\"orb-common-count\" style=\"font-size: 12px;\">0 in inventory</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(100 CR each)</div>\n                        </button>\n                        <button id=\"sell-orb-uncommon\" class=\"sell-btn uncommon-border\">\n                            <div style=\"font-weight: bold;\">UNCOMMON ORB</div>\n                            <div id=\"orb-uncommon-count\" style=\"font-size: 12px;\">0 in inventory</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(500 CR each)</div>\n                        </button>\n                        <button id=\"sell-orb-rare\" class=\"sell-btn rare-border\">\n                            <div style=\"font-weight: bold;\">RARE ORB</div>\n                            <div id=\"orb-rare-count\" style=\"font-size: 12px;\">0 in inventory</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(1,500 CR each)</div>\n                        </button>\n                        <button id=\"sell-orb-epic\" class=\"sell-btn epic-border\">\n                            <div style=\"font-weight: bold;\">EPIC ORB</div>\n                            <div id=\"orb-epic-count\" style=\"font-size: 12px;\">0 in inventory</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(5,000 CR each)</div>\n                        </button>\n                        <button id=\"sell-orb-legendary\" class=\"sell-btn legendary-border\">\n                            <div style=\"font-weight: bold;\">LEGENDARY ORB</div>\n                            <div id=\"orb-legendary-count\" style=\"font-size: 12px;\">0 in inventory</div>\n                            <div style=\"font-size: 12px; margin-top: 3px;\">(15,000 CR each)</div>\n                        </button>\n                    </div>\n                    \n                    <!-- Deployable Weapons Section -->\n                    <h4 style=\"color: #33aaff; margin-top: 20px; margin-bottom: 10px;\">DEPLOYABLE WEAPONS</h4>\n                    <div class=\"upgrade-item\">\n                        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;\">\n                            <div>\n                                <strong style=\"color: #FF3333;\">Laser Turrets:</strong> <span id=\"current-laser-count\">0</span>\n                            </div>\n                        </div>\n                        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                            <div style=\"flex: 2; padding-right: 10px;\">\n                                <p style=\"margin: 0; font-size: 12px;\">Deployable laser turrets automatically target and fire at enemies within 1000m range.</p>\n                            </div>\n                            <button id=\"purchase-laser\" style=\"flex: 1; padding: 10px; background-color: #FF3333; color: #fff; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                PURCHASE (1000 CR)\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Upgrades Section (Now in first row) -->\n                <div id=\"upgrades-section\" class=\"stargate-section\">\n                    <h3>SHIP UPGRADES</h3>\n                    \n                    <!-- Fuel Tank Upgrade -->\n                    <div class=\"upgrade-item\">\n                        <div class=\"upgrade-header\">\n                            <div>\n                                <strong style=\"color: #00cc33;\">Fuel Tank Level:</strong> <span id=\"current-fuel-level\">1</span>\n                            </div>\n                            <div style=\"text-align: right;\">\n                                <strong>Capacity:</strong> <span id=\"current-fuel-capacity\">100</span> units\n                                <br>\n                                <small style=\"opacity: 0.8;\">Next: <span id=\"next-fuel-capacity\">200</span> units</small>\n                            </div>\n                        </div>\n                        <div class=\"upgrade-progress\">\n                            <div id=\"fuel-upgrade-progress\" class=\"upgrade-progress-bar\" style=\"background-color: #00cc33; width: 20%;\"></div>\n                        </div>\n                        <div class=\"upgrade-footer\">\n                            <div class=\"upgrade-description\">\n                                <p style=\"margin: 0; font-size: 12px;\">Increases maximum fuel capacity, allowing for longer journeys.</p>\n                            </div>\n                            <button id=\"upgrade-fuel-tank\" style=\"flex: 1; padding: 10px; background-color: #00cc33; color: #000; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                UPGRADE (<span id=\"fuel-upgrade-cost\">1000</span> CR)\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <!-- Engine Upgrade -->\n                    <div class=\"upgrade-item\">\n                        <div class=\"upgrade-header\">\n                            <div>\n                                <strong style=\"color: #ff9900;\">Engine Level:</strong> <span id=\"current-engine-level\">1</span>\n                            </div>\n                            <div style=\"text-align: right;\">\n                                <strong>Max Speed:</strong> <span id=\"current-max-velocity\">25</span> units/s\n                                <br>\n                                <small style=\"opacity: 0.8;\">Next: <span id=\"next-max-velocity\">31.25</span> units/s</small>\n                            </div>\n                        </div>\n                        <div class=\"upgrade-progress\">\n                            <div id=\"engine-upgrade-progress\" class=\"upgrade-progress-bar\" style=\"background-color: #ff9900; width: 20%;\"></div>\n                        </div>\n                        <div class=\"upgrade-footer\">\n                            <div class=\"upgrade-description\">\n                                <p style=\"margin: 0; font-size: 12px;\">Enhances thruster power, increasing maximum velocity and maneuverability.</p>\n                            </div>\n                            <button id=\"upgrade-engine\" style=\"flex: 1; padding: 10px; background-color: #ff9900; color: #000; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                UPGRADE (<span id=\"engine-upgrade-cost\">800</span> CR)\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <!-- Mining Laser Upgrade -->\n                    <div class=\"upgrade-item\">\n                        <div class=\"upgrade-header\">\n                            <div>\n                                <strong style=\"color: #ff3030;\">Mining Laser Level:</strong> <span id=\"current-mining-level\">1</span>\n                            </div>\n                            <div style=\"text-align: right;\">\n                                <strong>Efficiency:</strong> <span id=\"current-mining-efficiency\">100</span>%\n                                <br>\n                                <small style=\"opacity: 0.8;\">Next: <span id=\"next-mining-efficiency\">130</span>%</small>\n                            </div>\n                        </div>\n                        <div class=\"upgrade-progress\">\n                            <div id=\"mining-upgrade-progress\" class=\"upgrade-progress-bar\" style=\"background-color: #ff3030; width: 20%;\"></div>\n                        </div>\n                        <div class=\"upgrade-footer\">\n                            <div class=\"upgrade-description\">\n                                <p style=\"margin: 0; font-size: 12px;\">Increases mining speed and extraction efficiency, allowing faster resource collection.</p>\n                            </div>\n                            <button id=\"upgrade-mining\" style=\"flex: 1; padding: 10px; background-color: #ff3030; color: #fff; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                UPGRADE (<span id=\"mining-upgrade-cost\">1200</span> CR)\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <!-- Hull Upgrade -->\n                    <div class=\"upgrade-item\">\n                        <div class=\"upgrade-header\">\n                            <div>\n                                <strong style=\"color: #30cfd0;\">Hull Level:</strong> <span id=\"current-hull-level\">1</span>\n                            </div>\n                            <div style=\"text-align: right;\">\n                                <strong>Resistance:</strong> <span id=\"current-hull-resistance\">100</span>%\n                                <br>\n                                <small style=\"opacity: 0.8;\">Next: <span id=\"next-hull-resistance\">125</span>%</small>\n                            </div>\n                        </div>\n                        <div class=\"upgrade-progress\">\n                            <div id=\"hull-upgrade-progress\" class=\"upgrade-progress-bar\" style=\"background-color: #30cfd0; width: 20%;\"></div>\n                        </div>\n                        <div class=\"upgrade-footer\">\n                            <div class=\"upgrade-description\">\n                                <p style=\"margin: 0; font-size: 12px;\">Reinforces ship structure, improving collision resistance and reducing damage.</p>\n                            </div>\n                            <button id=\"upgrade-hull\" style=\"flex: 1; padding: 10px; background-color: #30cfd0; color: #000; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                UPGRADE (<span id=\"hull-upgrade-cost\">1500</span> CR)\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <!-- Scanner Upgrade -->\n                    <div class=\"upgrade-item\">\n                        <div class=\"upgrade-header\">\n                            <div>\n                                <strong style=\"color: #9933cc;\">Scanner Level:</strong> <span id=\"current-scanner-level\">1</span>\n                            </div>\n                            <div style=\"text-align: right;\">\n                                <strong>Range:</strong> <span id=\"current-scanner-range\">1000</span> units\n                                <br>\n                                <small style=\"opacity: 0.8;\">Next: <span id=\"next-scanner-range\">1200</span> units</small>\n                            </div>\n                        </div>\n                        <div class=\"upgrade-progress\">\n                            <div id=\"scanner-upgrade-progress\" class=\"upgrade-progress-bar\" style=\"background-color: #9933cc; width: 20%;\"></div>\n                        </div>\n                        <div class=\"upgrade-footer\">\n                            <div class=\"upgrade-description\">\n                                <p style=\"margin: 0; font-size: 12px;\">Extends scanner range for detecting asteroids and other objects at greater distances.</p>\n                            </div>\n                            <button id=\"upgrade-scanner\" style=\"flex: 1; padding: 10px; background-color: #9933cc; color: #fff; border: none; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;\">\n                                UPGRADE (<span id=\"scanner-upgrade-cost\">600</span> CR)\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Features Section -->\n                <div id=\"features-section\" class=\"stargate-section\">\n                    <h3>SERVICES</h3>\n                    \n                    <div class=\"feature-buttons\">\n                        <button id=\"open-star-map\" class=\"feature-btn\" style=\"background-color: #30cfd0;\">\n                            STAR MAP\n                            <small>Access star systems navigation</small>\n                        </button>\n                        <button id=\"create-custom-system\" class=\"feature-btn\" style=\"background: linear-gradient(135deg, #2c5a8c 0%, #4a76a8 100%); border: 1px solid #4a9dff; box-shadow: 0 0 10px rgba(74, 157, 255, 0.3);\">\n                            CREATE NEW SYSTEM\n                            <small>Generate custom AI star systems</small>\n                        </button>\n                        <button id=\"open-blackjack\" class=\"feature-btn\" style=\"background-color: #9933cc;\">\n                            STELLAR BLACKJACK\n                            <small>Wager resources in card games</small>\n                        </button>\n                        <button id=\"open-settings\" class=\"feature-btn\" style=\"background-color: #33aaff;\">\n                            SETTINGS\n                            <small>Adjust graphics and audio options</small>\n                        </button>\n                    </div>\n                </div>\n                \n                <!-- Challenge Section -->\n                <div id=\"challenge-section\" class=\"stargate-section\">\n                    <h3>EXTREME CHALLENGE</h3>\n                    <button id=\"unleash-horde\" class=\"action-btn btn-horde\">\n                        UNLEASH THE HORDE\n                    </button>\n                    <p style=\"font-size: 12px; color: #ff9999; margin: 10px 0 0 0;\">WARNING: Activate extreme survival mode with infinitely scaling difficulty</p>\n                </div>\n            </div>\n            \n            <!-- Footer -->\n            <div id=\"stargate-footer\">\n                <button id=\"undock-btn\" class=\"action-btn btn-undock\" data-no-touch-overlay=\"true\">UNDOCK</button>\n            </div>\n        `;\n        \n        document.body.appendChild(stargateUI);\n    }\n    \n    setupSettingsButton() {\n        if (!this.settings) return;\n        \n        const settingsButton = document.getElementById('open-settings');\n        if (settingsButton) {\n            settingsButton.addEventListener('click', () => {\n                console.log(\"Opening settings\");\n                this.hideStargateUI();\n                this.settings.show();\n            });\n        }\n    }\n    \n    showDockingPrompt() {\n        const dockingPrompt = document.getElementById('docking-prompt');\n        if (dockingPrompt) {\n            // Only show if not flagged to always hide (on mobile devices)\n            if (dockingPrompt.dataset.alwaysHide !== 'true') {\n                dockingPrompt.style.display = 'block';\n            }\n        }\n    }\n    \n    hideDockingPrompt() {\n        const dockingPrompt = document.getElementById('docking-prompt');\n        if (dockingPrompt) {\n            dockingPrompt.style.display = 'none';\n        }\n    }\n    \n    showStargateUI() {\n        // Show the stargate UI\n        const stargateUI = document.getElementById('stargate-ui');\n        if (stargateUI) {\n            console.log(\"Showing stargate UI on \" + (this.isMobile ? \"mobile\" : \"desktop\"));\n            stargateUI.style.display = 'block';\n            \n            // Ensure background color is explicitly set\n            stargateUI.style.backgroundColor = 'rgba(20, 30, 50, 0.9)';\n            \n            // Mobile-specific adjustments\n            if (this.isMobile) {\n                // Ensure proper mobile styling\n                stargateUI.style.width = '92%';\n                stargateUI.style.maxWidth = '92vw';\n                stargateUI.style.maxHeight = '85vh';\n                stargateUI.style.webkitOverflowScrolling = 'touch';\n                stargateUI.style.touchAction = 'pan-y';\n                stargateUI.style.overscrollBehavior = 'auto'; // Changed from 'contain' to 'auto'\n                \n                // Ensure proper positioning\n                stargateUI.style.position = 'absolute';\n                stargateUI.style.top = '50%';\n                stargateUI.style.left = '50%';\n                stargateUI.style.transform = 'translate(-50%, -50%)';\n                stargateUI.style.zIndex = '1000';\n                \n                // Ensure body is in a state that allows the UI to be visible\n                document.body.classList.remove('undocking', 'modal-open');\n            }\n        }\n        \n        // Hide the docking prompt\n        const dockingPrompt = document.getElementById('docking-prompt');\n        if (dockingPrompt) {\n            dockingPrompt.style.display = 'none';\n        }\n        \n        // Setup star map button handler\n        this.setupStarMapButton();\n        \n        // Setup blackjack game button handler\n        this.setupBlackjackButton();\n        \n        // Setup settings button handler\n        this.setupSettingsButton();\n        \n        // Set up touch events for mobile scrolling\n        if (this.isMobile) {\n            this.setupTouchEvents();\n        }\n        \n        // Sync resources with game if available (similar to BlackjackGame)\n        if (window.game && window.game.controls) {\n            // Get reference to spaceship and resources\n            const spaceship = window.game.spaceship;\n            const resources = window.game.controls.resources;\n            \n            // Update the stargate UI with current values\n            if (spaceship && resources) {\n                console.log(\"Syncing stargate UI with game resources:\", resources);\n                this.updateStargateUI(spaceship, resources);\n            }\n        }\n    }\n    \n    setupStarMapButton() {\n        const starMapButton = document.getElementById('open-star-map');\n        if (starMapButton && this.starMap) {\n            starMapButton.addEventListener('click', () => {\n                console.log(\"Opening star map\");\n                this.hideStargateUI();\n                this.starMap.show();\n            });\n        } else if (starMapButton) {\n            // If star map not available, disable the button\n            starMapButton.disabled = true;\n            starMapButton.style.backgroundColor = '#555';\n            starMapButton.style.cursor = 'not-allowed';\n            starMapButton.title = 'Star map not available';\n        }\n    }\n    \n    setupBlackjackButton() {\n        const blackjackButton = document.getElementById('open-blackjack');\n        if (blackjackButton && this.blackjackGame) {\n            blackjackButton.addEventListener('click', () => {\n                console.log(\"Opening blackjack game\");\n                this.hideStargateUI();\n                this.blackjackGame.show();\n            });\n        } else if (blackjackButton) {\n            // If blackjack game not available, disable the button\n            blackjackButton.disabled = true;\n            blackjackButton.style.backgroundColor = '#555';\n            blackjackButton.style.cursor = 'not-allowed';\n            blackjackButton.title = 'Blackjack game not available';\n        }\n    }\n    \n    hideStargateUI() {\n        const stargateUI = document.getElementById('stargate-ui');\n        if (stargateUI) {\n            stargateUI.style.display = 'none';\n        }\n    }\n\n    // Add alias for compatibility\n    hide() {\n        this.hideStargateUI();\n    }\n    \n    updateStargateUI(spaceship, resources) {\n        // Update resource display with visual elements\n        document.getElementById('ms-iron').textContent = resources.iron;\n        document.getElementById('ms-gold').textContent = resources.gold;\n        document.getElementById('ms-platinum').textContent = resources.platinum;\n        \n        // Update credits with styling\n        document.getElementById('ms-credits').textContent = `${spaceship.credits} CR`;\n        \n        // Update fuel gauge\n        document.getElementById('fuel-gauge').style.width = `${(spaceship.fuel / spaceship.maxFuel) * 100}%`;\n        document.getElementById('fuel-level').textContent = Math.round((spaceship.fuel / spaceship.maxFuel) * 100);\n        \n        // Update shield gauge\n        document.getElementById('shield-gauge').style.width = `${(spaceship.shield / spaceship.maxShield) * 100}%`;\n        document.getElementById('shield-level').textContent = Math.round((spaceship.shield / spaceship.maxShield) * 100);\n        \n        // Update hull gauge\n        document.getElementById('hull-gauge').style.width = `${(spaceship.hull / spaceship.maxHull) * 100}%`;\n        document.getElementById('hull-level').textContent = Math.round((spaceship.hull / spaceship.maxHull) * 100);\n        \n        // Disable refuel button if not enough credits or fuel is full\n        const refuelBtn = document.getElementById('refuel-btn');\n        if (spaceship.credits < 100 || spaceship.fuel >= spaceship.maxFuel * 0.999) {\n            refuelBtn.disabled = true;\n            refuelBtn.style.backgroundColor = '#555';\n            refuelBtn.style.cursor = 'not-allowed';\n        } else {\n            refuelBtn.disabled = false;\n            refuelBtn.style.backgroundColor = '#00cc33';\n            refuelBtn.style.cursor = 'pointer';\n        }\n        \n        // Disable shield repair button if not enough credits or shield is full\n        const repairShieldBtn = document.getElementById('repair-shield-btn');\n        if (spaceship.credits < 150 || spaceship.shield >= spaceship.maxShield * 0.999) {\n            repairShieldBtn.disabled = true;\n            repairShieldBtn.style.backgroundColor = '#555';\n            repairShieldBtn.style.cursor = 'not-allowed';\n        } else {\n            repairShieldBtn.disabled = false;\n            repairShieldBtn.style.backgroundColor = '#3399ff';\n            repairShieldBtn.style.cursor = 'pointer';\n        }\n        \n        // Disable hull repair button if not enough credits or hull is full\n        const repairHullBtn = document.getElementById('repair-hull-btn');\n        if (spaceship.credits < 200 || spaceship.hull >= spaceship.maxHull * 0.999) {\n            repairHullBtn.disabled = true;\n            repairHullBtn.style.backgroundColor = '#555';\n            repairHullBtn.style.cursor = 'not-allowed';\n        } else {\n            repairHullBtn.disabled = false;\n            repairHullBtn.style.backgroundColor = '#ff9900';\n            repairHullBtn.style.cursor = 'pointer';\n        }\n        \n        // Update Fuel Tank upgrade information\n        document.getElementById('current-fuel-level').textContent = spaceship.fuelTankLevel;\n        document.getElementById('current-fuel-capacity').textContent = spaceship.maxFuel;\n        document.getElementById('next-fuel-capacity').textContent = spaceship.maxFuel * 2;\n        document.getElementById('fuel-upgrade-cost').textContent = spaceship.fuelUpgradeCost;\n        document.getElementById('fuel-upgrade-progress').style.width = `${Math.min(spaceship.fuelTankLevel * 20, 100)}%`;\n        \n        // Update Engine upgrade information\n        document.getElementById('current-engine-level').textContent = spaceship.engineLevel;\n        document.getElementById('current-max-velocity').textContent = spaceship.maxVelocity.toFixed(2);\n        document.getElementById('next-max-velocity').textContent = (spaceship.maxVelocity * 1.25).toFixed(2);\n        document.getElementById('engine-upgrade-cost').textContent = spaceship.engineUpgradeCost;\n        document.getElementById('engine-upgrade-progress').style.width = `${Math.min(spaceship.engineLevel * 20, 100)}%`;\n        \n        // Update Mining Laser upgrade information\n        document.getElementById('current-mining-level').textContent = spaceship.miningLevel;\n        document.getElementById('current-mining-efficiency').textContent = Math.round(spaceship.miningEfficiency * 100);\n        document.getElementById('next-mining-efficiency').textContent = Math.round(spaceship.miningEfficiency * 130);\n        document.getElementById('mining-upgrade-cost').textContent = spaceship.miningUpgradeCost;\n        document.getElementById('mining-upgrade-progress').style.width = `${Math.min(spaceship.miningLevel * 20, 100)}%`;\n        \n        // Update Hull upgrade information\n        document.getElementById('current-hull-level').textContent = spaceship.hullLevel;\n        document.getElementById('current-hull-resistance').textContent = Math.round(spaceship.collisionResistance * 100);\n        document.getElementById('next-hull-resistance').textContent = Math.round(spaceship.collisionResistance * 125);\n        document.getElementById('hull-upgrade-cost').textContent = spaceship.hullUpgradeCost;\n        document.getElementById('hull-upgrade-progress').style.width = `${Math.min(spaceship.hullLevel * 20, 100)}%`;\n        \n        // Update Scanner upgrade information\n        document.getElementById('current-scanner-level').textContent = spaceship.scannerLevel;\n        document.getElementById('current-scanner-range').textContent = Math.round(spaceship.scanRange);\n        document.getElementById('next-scanner-range').textContent = Math.round(spaceship.scanRange * 1.2);\n        document.getElementById('scanner-upgrade-cost').textContent = spaceship.scannerUpgradeCost;\n        document.getElementById('scanner-upgrade-progress').style.width = `${Math.min(spaceship.scannerLevel * 20, 100)}%`;\n        \n        // Disable upgrade buttons if not enough credits\n        this.updateUpgradeButtonStatus('upgrade-fuel-tank', spaceship.credits, spaceship.fuelUpgradeCost, '#00cc33');\n        this.updateUpgradeButtonStatus('upgrade-engine', spaceship.credits, spaceship.engineUpgradeCost, '#ff9900');\n        this.updateUpgradeButtonStatus('upgrade-mining', spaceship.credits, spaceship.miningUpgradeCost, '#ff3030');\n        this.updateUpgradeButtonStatus('upgrade-hull', spaceship.credits, spaceship.hullUpgradeCost, '#30cfd0');\n        this.updateUpgradeButtonStatus('upgrade-scanner', spaceship.credits, spaceship.scannerUpgradeCost, '#9933cc');\n        \n        // Disable sell buttons if no resources\n        document.getElementById('sell-iron').disabled = resources.iron === 0;\n        document.getElementById('sell-gold').disabled = resources.gold === 0;\n        document.getElementById('sell-platinum').disabled = resources.platinum === 0;\n        \n        // Update sell button styles based on resource availability\n        this.updateSellButtonStatus('sell-iron', resources.iron, '#cc6633');\n        this.updateSellButtonStatus('sell-gold', resources.gold, '#ffcc33');\n        this.updateSellButtonStatus('sell-platinum', resources.platinum, '#33ccff');\n        \n        // Update button styles based on disabled state\n        document.querySelectorAll('.sell-btn').forEach(btn => {\n            if (btn.disabled) {\n                btn.style.backgroundColor = 'rgba(40, 40, 40, 0.8)';\n                btn.style.color = '#777';\n                btn.style.cursor = 'not-allowed';\n                btn.style.boxShadow = 'none';\n            }\n        });\n        \n        // Update the laser turret count\n        const laserCountElement = document.getElementById('current-laser-count');\n        if (laserCountElement) {\n            laserCountElement.textContent = spaceship.deployableLaserCount || 0;\n        }\n        \n        // Update the purchase laser button status\n        const purchaseLaserBtn = document.getElementById('purchase-laser');\n        if (purchaseLaserBtn) {\n            if (spaceship.credits < 1000) {\n                purchaseLaserBtn.disabled = true;\n                purchaseLaserBtn.style.backgroundColor = '#555';\n                purchaseLaserBtn.style.cursor = 'not-allowed';\n            } else {\n                purchaseLaserBtn.disabled = false;\n                purchaseLaserBtn.style.backgroundColor = '#FF3333';\n                purchaseLaserBtn.style.cursor = 'pointer';\n            }\n        }\n        \n        // Update orb counts and button states\n        if (!resources.orbs) {\n            resources.orbs = {\n                common: 0,\n                uncommon: 0,\n                rare: 0,\n                epic: 0,\n                legendary: 0\n            };\n        }\n        \n        // Update orb counts\n        document.getElementById('orb-common-count').textContent = resources.orbs.common > 0 ? \n            `${resources.orbs.common} in inventory` : \"0 in inventory\";\n        document.getElementById('orb-uncommon-count').textContent = resources.orbs.uncommon > 0 ? \n            `${resources.orbs.uncommon} in inventory` : \"0 in inventory\";\n        document.getElementById('orb-rare-count').textContent = resources.orbs.rare > 0 ? \n            `${resources.orbs.rare} in inventory` : \"0 in inventory\";\n        document.getElementById('orb-epic-count').textContent = resources.orbs.epic > 0 ? \n            `${resources.orbs.epic} in inventory` : \"0 in inventory\";\n        document.getElementById('orb-legendary-count').textContent = resources.orbs.legendary > 0 ? \n            `${resources.orbs.legendary} in inventory` : \"0 in inventory\";\n        \n        // Disable sell buttons if no orbs available\n        const updateOrbSellButton = (buttonId, orbCount, borderColor) => {\n            const button = document.getElementById(buttonId);\n            if (!button) return;\n            \n            if (orbCount === 0) {\n                button.disabled = true;\n                button.style.backgroundColor = 'rgba(40, 40, 40, 0.8)';\n                button.style.color = '#777';\n                button.style.cursor = 'not-allowed';\n                button.style.boxShadow = 'none';\n            } else {\n                button.disabled = false;\n                button.style.backgroundColor = 'rgba(15, 40, 55, 0.8)';\n                button.style.color = '#fff';\n                button.style.cursor = 'pointer';\n                button.style.boxShadow = `0 0 10px ${borderColor}`;\n            }\n        };\n        \n        updateOrbSellButton('sell-orb-common', resources.orbs.common, 'rgba(0, 255, 102, 0.3)');\n        updateOrbSellButton('sell-orb-uncommon', resources.orbs.uncommon, 'rgba(0, 102, 255, 0.3)');\n        updateOrbSellButton('sell-orb-rare', resources.orbs.rare, 'rgba(153, 0, 255, 0.3)');\n        updateOrbSellButton('sell-orb-epic', resources.orbs.epic, 'rgba(255, 102, 0, 0.3)');\n        updateOrbSellButton('sell-orb-legendary', resources.orbs.legendary, 'rgba(255, 0, 0, 0.3)');\n    }\n    \n    // Helper method to update upgrade button status\n    updateUpgradeButtonStatus(buttonId, currentCredits, cost, activeColor) {\n        const button = document.getElementById(buttonId);\n        if (!button) return;\n        \n        if (currentCredits < cost) {\n            button.disabled = true;\n            button.style.backgroundColor = '#555';\n            button.style.color = '#777';\n            button.style.cursor = 'not-allowed';\n        } else {\n            button.disabled = false;\n            button.style.backgroundColor = activeColor;\n            button.style.color = activeColor === '#ff9900' || activeColor === '#30cfd0' ? '#000' : '#fff';\n            button.style.cursor = 'pointer';\n        }\n    }\n    \n    // Update sell button styles based on available resources\n    updateSellButtonStatus(buttonId, resourceAmount, borderColor) {\n        const button = document.getElementById(buttonId);\n        if (!button) return;\n        \n        if (resourceAmount === 0) {\n            button.disabled = true;\n            button.style.backgroundColor = 'rgba(40, 40, 40, 0.8)';\n            button.style.borderColor = '#555';\n            button.style.color = '#777';\n            button.style.boxShadow = 'none';\n            button.style.cursor = 'not-allowed';\n        } else {\n            button.disabled = false;\n            button.style.backgroundColor = 'rgba(15, 40, 55, 0.8)';\n            button.style.borderColor = borderColor;\n            button.style.color = '#fff';\n            button.style.boxShadow = `0 0 10px rgba(${parseInt(borderColor.slice(1, 3), 16)}, ${parseInt(borderColor.slice(3, 5), 16)}, ${parseInt(borderColor.slice(5, 7), 16)}, 0.3)`;\n            button.style.cursor = 'pointer';\n        }\n    }\n    \n    // Add a new method for setting up touch events\n    setupTouchEvents() {\n        if (!this.isMobile) return;\n        \n        const stargateUI = document.getElementById('stargate-ui');\n        if (!stargateUI) return;\n        \n        console.log(\"Setting up touch events for stargate UI\");\n        \n        // Make sure the undock button has proper touch handling\n        const undockBtn = document.getElementById('undock-btn');\n        if (undockBtn) {\n            undockBtn.style.touchAction = 'manipulation';\n            undockBtn.style.webkitTapHighlightColor = 'transparent';\n            undockBtn.style.position = 'relative';\n            undockBtn.style.zIndex = '9999';\n            \n            // Ensure proper touch handling\n            undockBtn.addEventListener('touchstart', (e) => {\n                console.log(\"Touch start on undock button\");\n                // Change appearance to show it's being touched\n                undockBtn.style.backgroundColor = '#1b88db';\n                undockBtn.style.transform = 'scale(0.98)';\n                // Prevent any default behavior that might interfere\n                e.stopPropagation();\n            }, { passive: false });\n            \n            undockBtn.addEventListener('touchend', (e) => {\n                console.log(\"Touch end on undock button\");\n                // Reset appearance\n                undockBtn.style.backgroundColor = '#33aaff';\n                undockBtn.style.transform = 'scale(1)';\n                // Prevent any default behavior that might interfere\n                e.stopPropagation();\n            }, { passive: false });\n        }\n        \n        // Prevent default touchmove on body but allow scrolling within the stargate UI\n        stargateUI.addEventListener('touchmove', (e) => {\n            // Allow the default scroll behavior within the stargate UI\n            e.stopPropagation();\n        }, { passive: true });\n        \n        // Fix for iOS scrolling issues - only prevent at the top, not at the bottom\n        stargateUI.addEventListener('touchstart', (e) => {\n            // Only prevent pull-to-refresh at the top, don't interfere with bottom scrolling\n            const scrollTop = stargateUI.scrollTop;\n            \n            if (scrollTop <= 0 && e.touches[0].screenY < e.touches[0].clientY) {\n                e.preventDefault();\n            }\n            // Removed condition that was preventing scrolling at the bottom\n        }, { passive: false });\n        \n        // Handle tabbed content for better touch experience\n        const tabButtons = stargateUI.querySelectorAll('.tablinks');\n        if (tabButtons.length > 0) {\n            tabButtons.forEach(button => {\n                button.addEventListener('touchend', (e) => {\n                    // Prevent rapid multiple touches\n                    e.preventDefault();\n                    \n                    // Simulate a click event\n                    button.click();\n                });\n            });\n        }\n        \n        // Improve touch experience for all buttons in the stargate UI\n        const allButtons = stargateUI.querySelectorAll('button');\n        allButtons.forEach(button => {\n            if (button !== undockBtn) { // We already handled the undock button specially\n                button.style.touchAction = 'manipulation';\n                button.style.webkitTapHighlightColor = 'transparent';\n                \n                // Provide visual feedback on touch\n                button.addEventListener('touchstart', () => {\n                    button.style.transform = 'scale(0.98)';\n                }, { passive: true });\n                \n                button.addEventListener('touchend', () => {\n                    button.style.transform = 'scale(1)';\n                }, { passive: true });\n            }\n        });\n    }\n    \n    setupEventHandlers() {\n        // Add event handler for custom system button\n        const customSystemBtn = document.getElementById('create-custom-system');\n        if (customSystemBtn) {\n            customSystemBtn.addEventListener('click', () => {\n                // Check if custom system creator is available on environment\n                if (window.game && window.game.environment && window.game.environment.customSystemCreator) {\n                    // Close stargate interface\n                    this.hide();\n                    \n                    // Show custom system creator\n                    window.game.environment.customSystemCreator.show();\n                } else {\n                    console.error('Custom system creator not available');\n                }\n            });\n        }\n        \n        // Add event handler for UNLEASH THE HORDE button\n        const hordeButton = document.getElementById('unleash-horde');\n        if (hordeButton) {\n            hordeButton.addEventListener('click', () => {\n                // Check if spectral drones have started spawning\n                const dronesHaveSpawned = window.game && \n                                         window.game.ecsWorld && \n                                         window.game.ecsWorld.enemySystem && \n                                         window.game.ecsWorld.enemySystem.initialSpawnComplete;\n                \n                if (dronesHaveSpawned) {\n                    console.log(\"HORDE MODE: Button clicked, showing confirmation\");\n                    this.showHordeConfirmation();\n                } else {\n                    console.log(\"HORDE MODE: Button clicked but spectral drones haven't appeared yet\");\n                    // Show notification that horde mode is not available yet\n                    this.showNotification(\"Horde mode is only available after spectral drones appear in the sector.\", 0xff3030);\n                }\n            });\n        }\n        \n        // Add handler for purchasing laser turrets\n        const purchaseLaserBtn = document.getElementById('purchase-laser');\n        if (purchaseLaserBtn) {\n            purchaseLaserBtn.addEventListener('click', this.purchaseLaserTurret.bind(this));\n        }\n        \n        // Energy orb sell handlers\n        document.getElementById('sell-orb-common').addEventListener('click', () => {\n            if (this.sellEnergyOrb('common')) {\n                // Update UI after selling\n                this.updateStargateUI(window.game.spaceship, window.game.controls.resources);\n            }\n        });\n        \n        document.getElementById('sell-orb-uncommon').addEventListener('click', () => {\n            if (this.sellEnergyOrb('uncommon')) {\n                // Update UI after selling\n                this.updateStargateUI(window.game.spaceship, window.game.controls.resources);\n            }\n        });\n        \n        document.getElementById('sell-orb-rare').addEventListener('click', () => {\n            if (this.sellEnergyOrb('rare')) {\n                // Update UI after selling\n                this.updateStargateUI(window.game.spaceship, window.game.controls.resources);\n            }\n        });\n        \n        document.getElementById('sell-orb-epic').addEventListener('click', () => {\n            if (this.sellEnergyOrb('epic')) {\n                // Update UI after selling\n                this.updateStargateUI(window.game.spaceship, window.game.controls.resources);\n            }\n        });\n        \n        document.getElementById('sell-orb-legendary').addEventListener('click', () => {\n            if (this.sellEnergyOrb('legendary')) {\n                // Update UI after selling\n                this.updateStargateUI(window.game.spaceship, window.game.controls.resources);\n            }\n        });\n    }\n    \n    /**\n     * Show confirmation dialog for activating horde mode\n     */\n    showHordeConfirmation() {\n        // Create modal overlay\n        const modal = document.createElement('div');\n        modal.id = 'horde-confirm-modal';\n        \n        // Create content container\n        const content = document.createElement('div');\n        content.id = 'horde-confirm-content';\n        \n        // Add title\n        const title = document.createElement('div');\n        title.className = 'horde-confirm-title';\n        title.textContent = 'UNLEASH THE HORDE?';\n        content.appendChild(title);\n        \n        // Add warning text\n        const text = document.createElement('div');\n        text.className = 'horde-confirm-text';\n        text.innerHTML = `\n            <p>You are about to activate EXTREME SURVIVAL MODE.</p>\n            <p>Enemies will continuously spawn with increasing:</p>\n            <ul style=\"text-align: left; padding-left: 30px; margin: 15px 0;\">\n                <li>Numbers (starting at 50, scaling upward)</li>\n                <li>Speed (progressively faster movement)</li>\n                <li>Health (gradually becoming tougher)</li>\n                <li>Damage (increasingly lethal hits)</li>\n            </ul>\n            <p>Difficulty will scale <strong>infinitely</strong> until you are overwhelmed.</p>\n            <p style=\"color: #ff9999;\">This is a test of survival. How long can you last?</p>\n        `;\n        content.appendChild(text);\n        \n        // Add buttons container\n        const buttons = document.createElement('div');\n        buttons.className = 'horde-confirm-buttons';\n        \n        // Add YES button\n        const yesBtn = document.createElement('button');\n        yesBtn.className = 'horde-confirm-btn horde-confirm-yes';\n        yesBtn.textContent = 'UNLEASH THEM';\n        yesBtn.addEventListener('click', () => {\n            // Remove the confirmation dialog\n            document.body.removeChild(modal);\n            \n            // Hide the stargate UI\n            this.hideStargateUI();\n            \n            // Activate horde mode in the game\n            if (window.game && typeof window.game.activateHordeMode === 'function') {\n                window.game.activateHordeMode();\n                console.log(\"HORDE MODE: Activated via stargateInterface\");\n            } else {\n                console.error(\"HORDE MODE: Failed to activate - game.activateHordeMode not available\");\n            }\n        });\n        \n        // Add NO button\n        const noBtn = document.createElement('button');\n        noBtn.className = 'horde-confirm-btn horde-confirm-no';\n        noBtn.textContent = 'CANCEL';\n        noBtn.addEventListener('click', () => {\n            // Just remove the confirmation dialog\n            document.body.removeChild(modal);\n        });\n        \n        // Add buttons to container\n        buttons.appendChild(noBtn);  // Cancel on left\n        buttons.appendChild(yesBtn); // Confirm on right\n        \n        // Add buttons to content\n        content.appendChild(buttons);\n        \n        // Add content to modal\n        modal.appendChild(content);\n        \n        // Add modal to body\n        document.body.appendChild(modal);\n    }\n\n    /**\n     * Purchase a deployable laser turret\n     */\n    purchaseLaserTurret() {\n        console.log(\"Attempting to purchase laser turret\");\n        \n        // Check if game and spaceship are available\n        if (!window.game || !window.game.spaceship) {\n            console.error(\"Cannot purchase laser turret: game or spaceship not found\");\n            return;\n        }\n        \n        const spaceship = window.game.spaceship;\n        \n        // Check if player has enough credits\n        if (spaceship.credits < 1000) {\n            console.log(\"Not enough credits to purchase laser turret\");\n            // Show notification to the player\n            if (window.mainMessageBus) {\n                window.mainMessageBus.publish('ui.notification', {\n                    message: \"Not enough credits to purchase laser turret\",\n                    type: \"error\",\n                    duration: 2\n                });\n            }\n            return;\n        }\n        \n        // Purchase the laser turret\n        spaceship.credits -= 1000;\n        \n        // Initialize deployableLaserCount if it doesn't exist\n        if (typeof spaceship.deployableLaserCount === 'undefined') {\n            spaceship.deployableLaserCount = 0;\n        }\n        \n        // Add a laser turret to the player's inventory\n        spaceship.deployableLaserCount++;\n        \n        // Play purchase sound\n        if (window.game.audio && window.game.audio.playSound) {\n            window.game.audio.playSound('purchase');\n        }\n        \n        // Update the UI\n        this.updateStargateUI(spaceship, window.game.controls.resources);\n        \n        // Show notification to the player\n        if (window.mainMessageBus) {\n            window.mainMessageBus.publish('ui.notification', {\n                message: \"Laser turret purchased\",\n                type: \"success\",\n                duration: 2\n            });\n        }\n        \n        console.log(\"Laser turret purchased successfully\");\n    }\n\n    // Sell an energy orb of the specified rarity\n    sellEnergyOrb(rarity) {\n        // Make sure we have spaceship and resources references\n        if (!window.game || !window.game.spaceship || !window.game.controls || !window.game.controls.resources) {\n            console.error(\"Required game objects not available\");\n            return false;\n        }\n        \n        const spaceship = window.game.spaceship;\n        const resources = window.game.controls.resources;\n        \n        // Check if orbs property exists, initialize if needed\n        if (!resources.orbs) {\n            resources.orbs = {\n                common: 0,\n                uncommon: 0,\n                rare: 0,\n                epic: 0,\n                legendary: 0\n            };\n            return false; // No orbs available yet\n        }\n        \n        // Check if player has any orbs of the specified rarity\n        if (!resources.orbs[rarity] || resources.orbs[rarity] <= 0) {\n            console.log(`No ${rarity} orbs available to sell`);\n            return false;\n        }\n        \n        // Calculate value based on rarity\n        let value = 0;\n        switch (rarity) {\n            case 'common':\n                value = 100;\n                break;\n            case 'uncommon':\n                value = 500;\n                break;\n            case 'rare':\n                value = 1500;\n                break;\n            case 'epic':\n                value = 5000;\n                break;\n            case 'legendary':\n                value = 15000;\n                break;\n            default:\n                console.error(`Unknown orb rarity: ${rarity}`);\n                return false;\n        }\n        \n        // Sell the orb - update inventory and credits\n        resources.orbs[rarity]--;\n        spaceship.credits += value;\n        \n        // Show message\n        const capitalizedRarity = rarity.charAt(0).toUpperCase() + rarity.slice(1);\n        this.showNotification(`Sold ${capitalizedRarity} Energy Orb for ${value} credits`, 0x33aaff);\n        \n        // Play sound if audio manager is available\n        if (window.game.audio) {\n            window.game.audio.playSoundEffect('sell', 0.5);\n        }\n        \n        return true;\n    }\n    \n    // Helper method to show notifications\n    showNotification(message, color = 0x33aaff) {\n        // Create notification element\n        const notification = document.createElement('div');\n        notification.style.position = 'fixed';\n        notification.style.top = '35%';\n        notification.style.left = '50%';\n        notification.style.transform = 'translate(-50%, -50%)';\n        notification.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\n        notification.style.color = '#fff';\n        notification.style.padding = '15px 30px';\n        notification.style.borderRadius = '10px';\n        notification.style.border = `2px solid #${color.toString(16).padStart(6, '0')}`;\n        notification.style.boxShadow = `0 0 15px #${color.toString(16).padStart(6, '0')}`;\n        notification.style.fontFamily = 'Courier New, monospace';\n        notification.style.fontSize = '16px';\n        notification.style.zIndex = '1001'; // Above the stargate UI\n        notification.style.textAlign = 'center';\n        \n        // Set notification text\n        notification.textContent = message;\n        \n        // Add to DOM\n        document.body.appendChild(notification);\n        \n        // Remove after a few seconds\n        setTimeout(() => {\n            notification.style.opacity = '0';\n            notification.style.transition = 'opacity 0.8s';\n            \n            setTimeout(() => {\n                notification.remove();\n            }, 800);\n        }, 2000);\n    }\n}"],"names":["HUD","spaceship","hudContainer","fontLink","parent","scanlineEffect","activeScanline","flightPanel","panelHeader","statusIndicator","fuelRow","fuelLabel","fuelValue","fuelBarContainer","fuelBar","controlsButton","statusPanel","shieldRow","shieldLabel","shieldBarContainer","shieldBar","hullRow","hullLabel","hullBarContainer","hullBar","soundToggleBtn","isMuted","targetingSystem","crosshair","targetInfo","laserBeam","locationPanel","resourcePanel","resourceHeader","createResourceRow","name","id","hexColor","row","hexIcon","label","value","capacityRow","capacityLabel","capacityValue","capacityBarContainer","capacityBar","notificationsArea","hordeIndicator","hordeContent","hordeLabel","survivalTime","style","panel","defaultValue","isIndicator","labelEl","valueEl","status","topLeft","topRight","bottomLeft","bottomRight","element","glitchAnimation","animationName","position","height","moveScanline","fuelPercent","creditsDisplay","totalSeconds","minutes","seconds","styleEl","shieldPercentage","shieldFound","players","health","e","hullPercentage","healthFound","locationName","systemName","currentSystem","x","y","z","coordsElement","fps","cap","fpsElement","frame","frameId","controls","StargateInterface","MobileDetector","starMap","blackjackGame","settings","dockingPrompt","stargateUI","settingsButton","resources","starMapButton","blackjackButton","refuelBtn","repairShieldBtn","repairHullBtn","btn","laserCountElement","purchaseLaserBtn","updateOrbSellButton","buttonId","orbCount","borderColor","button","currentCredits","cost","activeColor","resourceAmount","undockBtn","tabButtons","customSystemBtn","hordeButton","modal","content","title","text","buttons","yesBtn","noBtn","rarity","capitalizedRarity","message","color","notification"],"mappings":"+CAEO,MAAMA,CAAI,CACb,YAAYC,EAAW,CACnB,KAAK,UAAYA,EACjB,KAAK,SAAU,EACf,KAAK,gBAAkB,CAAE,EACzB,KAAK,eAAiB,KACtB,KAAK,SAAW,KAChB,KAAK,WAAa,EAClB,KAAK,aAAc,CAC3B,CAEI,UAAW,CAEP,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,GAAK,gBAClBA,EAAa,MAAM,SAAW,WAC9BA,EAAa,MAAM,IAAM,IACzBA,EAAa,MAAM,KAAO,IAC1BA,EAAa,MAAM,MAAQ,OAC3BA,EAAa,MAAM,OAAS,OAC5BA,EAAa,MAAM,cAAgB,OACnCA,EAAa,MAAM,WAAa,wCAChCA,EAAa,MAAM,WAAa,MAChCA,EAAa,MAAM,MAAQ,2BAC3BA,EAAa,MAAM,WAAa,oCAChCA,EAAa,MAAM,QAAU,IAC7BA,EAAa,MAAM,WAAa,oBAChC,SAAS,KAAK,YAAYA,CAAY,EAGtC,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,KAAO,iGAChBA,EAAS,IAAM,aACf,SAAS,KAAK,YAAYA,CAAQ,EAGlC,KAAK,qBAAqBD,CAAY,EAGtC,KAAK,kBAAkBA,CAAY,EAGnC,KAAK,kBAAkBA,CAAY,EAGnC,KAAK,sBAAsBA,CAAY,EAGvC,KAAK,oBAAoBA,CAAY,EAGrC,KAAK,oBAAoBA,CAAY,EAKrC,KAAK,wBAAwBA,CAAY,CACjD,CAEI,qBAAqBE,EAAQ,CAEzB,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,GAAK,kBACpBA,EAAe,MAAM,SAAW,WAChCA,EAAe,MAAM,IAAM,IAC3BA,EAAe,MAAM,KAAO,IAC5BA,EAAe,MAAM,MAAQ,OAC7BA,EAAe,MAAM,OAAS,OAC9BA,EAAe,MAAM,WAAa,kEAClCA,EAAe,MAAM,eAAiB,WACtCA,EAAe,MAAM,OAAS,OAC9BA,EAAe,MAAM,cAAgB,OACrCA,EAAe,MAAM,QAAU,MAC/BD,EAAO,YAAYC,CAAc,EAGjC,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,GAAK,kBACpBA,EAAe,MAAM,SAAW,WAChCA,EAAe,MAAM,KAAO,IAC5BA,EAAe,MAAM,MAAQ,OAC7BA,EAAe,MAAM,OAAS,MAC9BA,EAAe,MAAM,WAAa,yFAClCA,EAAe,MAAM,UAAY,oCACjCA,EAAe,MAAM,OAAS,OAC9BA,EAAe,MAAM,IAAM,IAC3BA,EAAe,MAAM,QAAU,MAC/BA,EAAe,MAAM,cAAgB,OACrCF,EAAO,YAAYE,CAAc,EAEjC,KAAK,SAAWA,CACxB,CAEI,kBAAkBF,EAAQ,CACtB,MAAMG,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,GAAK,eACjBA,EAAY,UAAY,YACxBA,EAAY,MAAM,SAAW,WAC7BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,KAAO,OACzBA,EAAY,MAAM,MAAQ,QAC1BA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,gBAAkB,uBACpCA,EAAY,MAAM,eAAiB,YACnCA,EAAY,MAAM,aAAe,OACjCA,EAAY,MAAM,OAAS,qCAC3BA,EAAY,MAAM,UAAY,6EAC9BA,EAAY,MAAM,SAAW,SAC7BH,EAAO,YAAYG,CAAW,EAG9B,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,eACxBA,EAAY,UAAY,8BACxBA,EAAY,MAAM,WAAa,MAC/BA,EAAY,MAAM,SAAW,OAC7BA,EAAY,MAAM,cAAgB,YAClCA,EAAY,MAAM,cAAgB,MAClCA,EAAY,MAAM,aAAe,OACjCA,EAAY,MAAM,cAAgB,MAClCA,EAAY,MAAM,aAAe,qCACjCA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,eAAiB,gBACnCA,EAAY,MAAM,WAAa,SAC/BD,EAAY,YAAYC,CAAW,EAGnC,MAAMC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAY,mBAC5BA,EAAgB,MAAM,MAAQ,MAC9BA,EAAgB,MAAM,OAAS,MAC/BA,EAAgB,MAAM,aAAe,MACrCA,EAAgB,MAAM,gBAAkB,2BACxCA,EAAgB,MAAM,UAAY,mCAClCA,EAAgB,MAAM,UAAY,oBAClCD,EAAY,YAAYC,CAAe,EAKvC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,YACpBA,EAAQ,MAAM,QAAU,OACxBA,EAAQ,MAAM,eAAiB,gBAC/BA,EAAQ,MAAM,WAAa,SAC3BA,EAAQ,MAAM,OAAS,SACvBH,EAAY,YAAYG,CAAO,EAE/B,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,UAAY,YACtBA,EAAU,YAAc,OACxBA,EAAU,MAAM,MAAQ,MACxBD,EAAQ,YAAYC,CAAS,EAG7B,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,GAAK,aACfA,EAAU,UAAY,YACtBA,EAAU,YAAc,YACxBA,EAAU,MAAM,SAAW,WAC3BA,EAAU,MAAM,MAAQ,OACxBA,EAAU,MAAM,IAAM,QACtBA,EAAU,MAAM,SAAW,OAC3BA,EAAU,MAAM,MAAQ,2BAExB,MAAMC,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,MAAM,MAAQ,MAC/BA,EAAiB,MAAM,OAAS,OAChCA,EAAiB,MAAM,gBAAkB,wBACzCA,EAAiB,MAAM,aAAe,MACtCA,EAAiB,MAAM,SAAW,SAClCA,EAAiB,MAAM,SAAW,WAClCA,EAAiB,YAAYD,CAAS,EACtCF,EAAQ,YAAYG,CAAgB,EAEpC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,GAAK,WACbA,EAAQ,MAAM,MAAQ,OACtBA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,gBAAkB,2BAChCA,EAAQ,MAAM,UAAY,yCAC1BA,EAAQ,MAAM,WAAa,kBAC3BD,EAAiB,YAAYC,CAAO,EAGpC,KAAK,eAAeP,EAAa,UAAW,UAAW,SAAS,EAGhE,MAAMQ,EAAiB,SAAS,cAAc,QAAQ,EACtDA,EAAe,GAAK,gBACpBA,EAAe,YAAc,kBAC7BA,EAAe,MAAM,MAAQ,OAC7BA,EAAe,MAAM,UAAY,OACjCA,EAAe,MAAM,QAAU,MAC/BA,EAAe,MAAM,gBAAkB,4BACvCA,EAAe,MAAM,OAAS,qCAC9BA,EAAe,MAAM,aAAe,MACpCA,EAAe,MAAM,MAAQ,2BAC7BA,EAAe,MAAM,SAAW,OAChCA,EAAe,MAAM,WAAa,yBAClCA,EAAe,MAAM,OAAS,UAC9BA,EAAe,MAAM,WAAa,gBAClCA,EAAe,MAAM,cAAgB,YACrCA,EAAe,MAAM,cAAgB,MACrCA,EAAe,MAAM,WAAa,MAClCA,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,cAAgB,OAErCA,EAAe,iBAAiB,YAAa,IAAM,CAC/CA,EAAe,MAAM,gBAAkB,2BACvCA,EAAe,MAAM,UAAY,mCAC7C,CAAS,EAEDA,EAAe,iBAAiB,WAAY,IAAM,CAC9CA,EAAe,MAAM,gBAAkB,4BACvCA,EAAe,MAAM,UAAY,MAC7C,CAAS,EAEDR,EAAY,YAAYQ,CAAc,EAGtC,KAAK,uBAAuBR,CAAW,CAC/C,CAEI,kBAAkBH,EAAQ,CACtB,MAAMY,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,GAAK,eACjBA,EAAY,UAAY,YACxBA,EAAY,MAAM,SAAW,WAC7BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,MAAM,MAAQ,QAC1BA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,gBAAkB,uBACpCA,EAAY,MAAM,eAAiB,YACnCA,EAAY,MAAM,aAAe,OACjCA,EAAY,MAAM,OAAS,qCAC3BA,EAAY,MAAM,UAAY,6EAC9BZ,EAAO,YAAYY,CAAW,EAG9B,MAAMR,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,eACxBA,EAAY,UAAY,2BACxBA,EAAY,MAAM,WAAa,MAC/BA,EAAY,MAAM,SAAW,OAC7BA,EAAY,MAAM,cAAgB,YAClCA,EAAY,MAAM,cAAgB,MAClCA,EAAY,MAAM,aAAe,OACjCA,EAAY,MAAM,cAAgB,MAClCA,EAAY,MAAM,aAAe,qCACjCA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,eAAiB,gBACnCA,EAAY,MAAM,WAAa,SAC/BQ,EAAY,YAAYR,CAAW,EAGnC,MAAMC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAY,mBAC5BA,EAAgB,MAAM,MAAQ,MAC9BA,EAAgB,MAAM,OAAS,MAC/BA,EAAgB,MAAM,aAAe,MACrCA,EAAgB,MAAM,gBAAkB,2BACxCA,EAAgB,MAAM,UAAY,mCAClCA,EAAgB,MAAM,UAAY,oBAClCD,EAAY,YAAYC,CAAe,EAGvC,MAAMQ,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,YACtBA,EAAU,MAAM,QAAU,OAC1BA,EAAU,MAAM,eAAiB,gBACjCA,EAAU,MAAM,WAAa,SAC7BA,EAAU,MAAM,OAAS,SACzBD,EAAY,YAAYC,CAAS,EAEjC,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDA,EAAY,UAAY,YACxBA,EAAY,YAAc,SAC1BA,EAAY,MAAM,MAAQ,MAC1BD,EAAU,YAAYC,CAAW,EAEjC,MAAMC,EAAqB,SAAS,cAAc,KAAK,EACvDA,EAAmB,MAAM,MAAQ,MACjCA,EAAmB,MAAM,OAAS,OAClCA,EAAmB,MAAM,gBAAkB,wBAC3CA,EAAmB,MAAM,aAAe,MACxCA,EAAmB,MAAM,SAAW,SACpCF,EAAU,YAAYE,CAAkB,EAExC,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,GAAK,aACfA,EAAU,MAAM,MAAQ,OACxBA,EAAU,MAAM,OAAS,OACzBA,EAAU,MAAM,gBAAkB,0BAClCA,EAAU,MAAM,UAAY,yCAC5BA,EAAU,MAAM,WAAa,kBAC7BD,EAAmB,YAAYC,CAAS,EAGxC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,YACpBA,EAAQ,MAAM,QAAU,OACxBA,EAAQ,MAAM,eAAiB,gBAC/BA,EAAQ,MAAM,WAAa,SAC3BA,EAAQ,MAAM,OAAS,SACvBL,EAAY,YAAYK,CAAO,EAE/B,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,UAAY,YACtBA,EAAU,YAAc,iBACxBA,EAAU,MAAM,MAAQ,MACxBD,EAAQ,YAAYC,CAAS,EAE7B,MAAMC,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,MAAM,MAAQ,MAC/BA,EAAiB,MAAM,OAAS,OAChCA,EAAiB,MAAM,gBAAkB,wBACzCA,EAAiB,MAAM,aAAe,MACtCA,EAAiB,MAAM,SAAW,SAClCF,EAAQ,YAAYE,CAAgB,EAEpC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,GAAK,WACbA,EAAQ,MAAM,MAAQ,OACtBA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,gBAAkB,2BAChCA,EAAQ,MAAM,UAAY,yCAC1BA,EAAQ,MAAM,WAAa,kBAC3BD,EAAiB,YAAYC,CAAO,EAGpC,KAAK,uBAAuBR,CAAW,EAGvC,MAAMS,EAAiB,SAAS,cAAc,QAAQ,EACtDA,EAAe,GAAK,eACpBA,EAAe,YAAc,YAC7BA,EAAe,MAAM,WAAa,OAClCA,EAAe,MAAM,OAAS,qCAC9BA,EAAe,MAAM,MAAQ,2BAC7BA,EAAe,MAAM,QAAU,WAC/BA,EAAe,MAAM,aAAe,MACpCA,EAAe,MAAM,OAAS,UAC9BA,EAAe,MAAM,WAAa,yBAClCA,EAAe,MAAM,SAAW,OAChCA,EAAe,MAAM,WAAa,OAClCA,EAAe,MAAM,UAAY,OACjCA,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,cAAgB,OAGrCA,EAAe,iBAAiB,QAAS,IAAM,CAC3C,GAAI,OAAO,MAAQ,OAAO,KAAK,MAAO,CAClC,MAAMC,EAAU,OAAO,KAAK,MAAM,WAAY,EAC9CD,EAAe,YAAcC,EAAU,aAAe,WACtE,CACA,CAAS,EAEDV,EAAY,YAAYS,CAAc,CAC9C,CAEI,sBAAsBrB,EAAQ,CAE1B,MAAMuB,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,GAAK,mBACrBA,EAAgB,MAAM,SAAW,WACjCA,EAAgB,MAAM,IAAM,MAC5BA,EAAgB,MAAM,KAAO,MAC7BA,EAAgB,MAAM,UAAY,wBAClCA,EAAgB,MAAM,MAAQ,QAC9BA,EAAgB,MAAM,OAAS,QAC/BA,EAAgB,MAAM,OAAS,MAC/BvB,EAAO,YAAYuB,CAAe,EAGlC,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,GAAK,YACfA,EAAU,MAAM,SAAW,WAC3BA,EAAU,MAAM,IAAM,MACtBA,EAAU,MAAM,KAAO,MACvBA,EAAU,MAAM,UAAY,wBAC5BA,EAAU,MAAM,MAAQ,OACxBA,EAAU,MAAM,OAAS,OAGzBA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAiBtBD,EAAgB,YAAYC,CAAS,EAGrC,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,GAAK,cAChBA,EAAW,MAAM,SAAW,WAC5BA,EAAW,MAAM,IAAM,OACvBA,EAAW,MAAM,KAAO,MACxBA,EAAW,MAAM,UAAY,mBAC7BA,EAAW,MAAM,MAAQ,QACzBA,EAAW,MAAM,gBAAkB,uBACnCA,EAAW,MAAM,eAAiB,YAClCA,EAAW,MAAM,aAAe,MAChCA,EAAW,MAAM,QAAU,MAC3BA,EAAW,MAAM,SAAW,OAC5BA,EAAW,MAAM,MAAQ,2BACzBA,EAAW,MAAM,OAAS,qCAC1BA,EAAW,MAAM,UAAY,oCAC7BA,EAAW,MAAM,UAAY,SAC7BA,EAAW,MAAM,QAAU,OAC3BF,EAAgB,YAAYE,CAAU,EAGtCA,EAAW,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,UAQvB,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,GAAK,aACfA,EAAU,MAAM,SAAW,WAC3BA,EAAU,MAAM,IAAM,MACtBA,EAAU,MAAM,KAAO,MACvBA,EAAU,MAAM,MAAQ,MACxBA,EAAU,MAAM,OAAS,MACzBA,EAAU,MAAM,gBAAkB,yBAClCA,EAAU,MAAM,UAAY,kCAC5BA,EAAU,MAAM,gBAAkB,OAClCA,EAAU,MAAM,UAAY,6BAC5BA,EAAU,MAAM,OAAS,KACzBA,EAAU,MAAM,QAAU,OAC1B1B,EAAO,YAAY0B,CAAS,CACpC,CAEI,oBAAoB1B,EAAQ,CAExB,MAAM2B,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,GAAK,iBACnBA,EAAc,UAAY,YAC1BA,EAAc,MAAM,SAAW,WAC/BA,EAAc,MAAM,IAAM,OAC1BA,EAAc,MAAM,KAAO,OAC3BA,EAAc,MAAM,QAAU,YAC9BA,EAAc,MAAM,gBAAkB,uBACtCA,EAAc,MAAM,eAAiB,YACrCA,EAAc,MAAM,aAAe,MACnCA,EAAc,MAAM,OAAS,qCAC7BA,EAAc,MAAM,UAAY,oCAChCA,EAAc,MAAM,SAAW,OAC/B3B,EAAO,YAAY2B,CAAa,EAGhCA,EAAc,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAsB1B,KAAK,kBAAkBA,CAAa,CAC5C,CAEI,oBAAoB3B,EAAQ,CAExB,MAAM4B,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,GAAK,iBACnBA,EAAc,UAAY,YAC1BA,EAAc,MAAM,SAAW,WAC/BA,EAAc,MAAM,IAAM,OAC1BA,EAAc,MAAM,MAAQ,OAC5BA,EAAc,MAAM,MAAQ,QAC5BA,EAAc,MAAM,QAAU,YAC9BA,EAAc,MAAM,gBAAkB,uBACtCA,EAAc,MAAM,eAAiB,YACrCA,EAAc,MAAM,aAAe,MACnCA,EAAc,MAAM,OAAS,qCAC7BA,EAAc,MAAM,UAAY,oCAChCA,EAAc,MAAM,SAAW,OAC/B5B,EAAO,YAAY4B,CAAa,EAGhC,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,eAC3BA,EAAe,UAAY,yBAC3BA,EAAe,MAAM,WAAa,MAClCA,EAAe,MAAM,SAAW,OAChCA,EAAe,MAAM,cAAgB,YACrCA,EAAe,MAAM,cAAgB,MACrCA,EAAe,MAAM,aAAe,MACpCA,EAAe,MAAM,cAAgB,MACrCA,EAAe,MAAM,aAAe,qCACpCA,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,eAAiB,gBACtCA,EAAe,MAAM,WAAa,SAClCD,EAAc,YAAYC,CAAc,EAGxC,MAAMC,EAAoB,CAACC,EAAMC,EAAIC,IAAa,CAC9C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,MAAM,QAAU,OACpBA,EAAI,MAAM,WAAa,SACvBA,EAAI,MAAM,eAAiB,gBAC3BA,EAAI,MAAM,OAAS,QAGnB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,MAAM,MAAQ,OACtBA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,SAAW,gEACzBA,EAAQ,MAAM,gBAAkBF,EAChCE,EAAQ,MAAM,YAAc,MAE5B,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,MAAM,QAAU,OACtBA,EAAM,MAAM,WAAa,SACzBA,EAAM,MAAM,MAAQ,MACpBA,EAAM,MAAM,SAAW,OACvBA,EAAM,YAAYD,CAAO,EACzBC,EAAM,YAAY,SAAS,eAAeL,CAAI,CAAC,EAE/C,MAAMM,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,GAAKL,EACXK,EAAM,MAAM,MAAQ,MACpBA,EAAM,MAAM,UAAY,QACxBA,EAAM,MAAM,WAAa,MACzBA,EAAM,MAAM,SAAW,OACvBA,EAAM,YAAc,IAEpBH,EAAI,YAAYE,CAAK,EACrBF,EAAI,YAAYG,CAAK,EACrBT,EAAc,YAAYM,CAAG,CAChC,EAEDJ,EAAkB,OAAQ,cAAe,0BAA0B,EACnEA,EAAkB,OAAQ,cAAe,wBAAwB,EACjEA,EAAkB,WAAY,kBAAmB,0BAA0B,EAG3E,MAAMQ,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,MAAM,UAAY,MAC9BA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,eAAiB,gBACnCA,EAAY,MAAM,WAAa,SAC/BA,EAAY,MAAM,UAAY,qCAC9BA,EAAY,MAAM,WAAa,MAC/BV,EAAc,YAAYU,CAAW,EAErC,MAAMC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,YAAc,WAC5BA,EAAc,MAAM,SAAW,OAC/BD,EAAY,YAAYC,CAAa,EAErC,MAAMC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,GAAK,iBACnBA,EAAc,YAAc,WAC5BA,EAAc,MAAM,SAAW,OAC/BA,EAAc,MAAM,WAAa,MACjCF,EAAY,YAAYE,CAAa,EAGrC,MAAMC,EAAuB,SAAS,cAAc,KAAK,EACzDA,EAAqB,MAAM,MAAQ,OACnCA,EAAqB,MAAM,OAAS,MACpCA,EAAqB,MAAM,gBAAkB,wBAC7CA,EAAqB,MAAM,aAAe,MAC1CA,EAAqB,MAAM,SAAW,SACtCA,EAAqB,MAAM,UAAY,MACvCb,EAAc,YAAYa,CAAoB,EAE9C,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,GAAK,eACjBA,EAAY,MAAM,MAAQ,KAC1BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,gBAAkB,2BACpCA,EAAY,MAAM,WAAa,kBAC/BD,EAAqB,YAAYC,CAAW,EAG5C,KAAK,kBAAkBd,CAAa,CAC5C,CAII,wBAAwB5B,EAAQ,CAE5B,MAAM2C,EAAoB,SAAS,cAAc,KAAK,EACtDA,EAAkB,GAAK,qBACvBA,EAAkB,MAAM,SAAW,WACnCA,EAAkB,MAAM,IAAM,OAC9BA,EAAkB,MAAM,KAAO,MAC/BA,EAAkB,MAAM,UAAY,mBACpCA,EAAkB,MAAM,QAAU,OAClCA,EAAkB,MAAM,cAAgB,SACxCA,EAAkB,MAAM,WAAa,SACrCA,EAAkB,MAAM,IAAM,OAC9B3C,EAAO,YAAY2C,CAAiB,EAKpC,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,GAAK,uBACpBA,EAAe,UAAY,YAC3BA,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,QAAU,WAC/BA,EAAe,MAAM,gBAAkB,wBACvCA,EAAe,MAAM,eAAiB,YACtCA,EAAe,MAAM,aAAe,MACpCA,EAAe,MAAM,OAAS,oBAC9BA,EAAe,MAAM,UAAY,kCACjCA,EAAe,MAAM,UAAY,0BACjCA,EAAe,MAAM,aAAe,OACpCA,EAAe,MAAM,SAAW,OAChCA,EAAe,MAAM,WAAa,MAClCA,EAAe,MAAM,cAAgB,MAGrC,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,MAAM,QAAU,OAC7BA,EAAa,MAAM,WAAa,SAChCA,EAAa,MAAM,eAAiB,SACpCA,EAAa,MAAM,IAAM,OAGzB,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,MAAM,MAAQ,UACzBA,EAAW,MAAM,WAAa,8BAC9BA,EAAW,YAAc,aAEzB,MAAMC,EAAe,SAAS,cAAc,MAAM,EAClDA,EAAa,GAAK,sBAClBA,EAAa,MAAM,MAAQ,UAC3BA,EAAa,MAAM,WAAa,OAChCA,EAAa,YAAc,QAG3BF,EAAa,YAAYC,CAAU,EACnCD,EAAa,YAAYE,CAAY,EACrCH,EAAe,YAAYC,CAAY,EAGvC,KAAK,kBAAkBD,CAAc,EAErCD,EAAkB,YAAYC,CAAc,EAG5C,MAAMI,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOpB,SAAS,KAAK,YAAYA,CAAK,CACvC,CAGI,eAAeC,EAAOb,EAAOJ,EAAIkB,EAAcC,EAAc,GAAO,CAChE,MAAMjB,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,YAChBA,EAAI,MAAM,QAAU,OACpBA,EAAI,MAAM,eAAiB,gBAC3BA,EAAI,MAAM,WAAa,SACvBA,EAAI,MAAM,OAAS,QACnBe,EAAM,YAAYf,CAAG,EAErB,MAAMkB,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,UAAY,YACpBA,EAAQ,YAAchB,EACtBF,EAAI,YAAYkB,CAAO,EAEvB,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,GAAKrB,EACbqB,EAAQ,UAAY,YACpBA,EAAQ,YAAcH,EAElBC,GAAeD,IAAiB,KAChCG,EAAQ,MAAM,MAAQ,UACfF,GAAeD,IAAiB,QACvCG,EAAQ,MAAM,MAAQ,WAG1BnB,EAAI,YAAYmB,CAAO,CAC/B,CAEI,gBAAgBJ,EAAOb,EAAOJ,EAAIsB,EAAQ,CACtC,MAAMpB,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,aAChBA,EAAI,MAAM,QAAU,OACpBA,EAAI,MAAM,eAAiB,gBAC3BA,EAAI,MAAM,WAAa,SACvBA,EAAI,MAAM,OAAS,QACnBe,EAAM,YAAYf,CAAG,EAErB,MAAMkB,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,UAAY,YACpBA,EAAQ,YAAchB,EACtBgB,EAAQ,MAAM,SAAW,OACzBlB,EAAI,YAAYkB,CAAO,EAEvB,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,GAAKrB,EACbqB,EAAQ,UAAY,YACpBA,EAAQ,YAAcC,EACtBD,EAAQ,MAAM,SAAW,OACzBA,EAAQ,MAAM,WAAa,MAGvBC,IAAW,UACXD,EAAQ,MAAM,MAAQ,2BACfC,IAAW,UAClBD,EAAQ,MAAM,MAAQ,UACfC,IAAW,aAClBD,EAAQ,MAAM,MAAQ,WAG1BnB,EAAI,YAAYmB,CAAO,CAC/B,CAEI,uBAAuBJ,EAAO,CAE1B,KAAK,kBAAkBA,CAAK,CACpC,CAEI,kBAAkBA,EAAO,CAErB,MAAMM,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,MAAM,SAAW,WACzBA,EAAQ,MAAM,IAAM,IACpBA,EAAQ,MAAM,KAAO,IACrBA,EAAQ,MAAM,MAAQ,OACtBA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,UAAY,qCAC1BA,EAAQ,MAAM,WAAa,qCAC3BN,EAAM,YAAYM,CAAO,EAGzB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,MAAM,SAAW,WAC1BA,EAAS,MAAM,IAAM,IACrBA,EAAS,MAAM,MAAQ,IACvBA,EAAS,MAAM,MAAQ,OACvBA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,UAAY,qCAC3BA,EAAS,MAAM,YAAc,qCAC7BP,EAAM,YAAYO,CAAQ,EAG1B,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,MAAM,SAAW,WAC5BA,EAAW,MAAM,OAAS,IAC1BA,EAAW,MAAM,KAAO,IACxBA,EAAW,MAAM,MAAQ,OACzBA,EAAW,MAAM,OAAS,OAC1BA,EAAW,MAAM,aAAe,qCAChCA,EAAW,MAAM,WAAa,qCAC9BR,EAAM,YAAYQ,CAAU,EAG5B,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,MAAM,SAAW,WAC7BA,EAAY,MAAM,OAAS,IAC3BA,EAAY,MAAM,MAAQ,IAC1BA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,aAAe,qCACjCA,EAAY,MAAM,YAAc,qCAChCT,EAAM,YAAYS,CAAW,CACrC,CAGI,cAAe,CAEX,MAAMV,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA+BpB,SAAS,KAAK,YAAYA,CAAK,EAG/B,KAAK,uBAAwB,EAG7B,WAAW,IAAM,CACT,KAAK,UACL,KAAK,gBAAiB,CAE7B,EAAE,IAAI,CACf,CAEI,wBAAyB,CAErB,MAAMlD,EAAe,SAAS,eAAe,eAAe,EACvDA,IAGL,WAAW,IAAM,CACbA,EAAa,MAAM,QAAU,MAC7B,KAAK,UAAUA,CAAY,CAC9B,EAAE,GAAG,EAEN,WAAW,IAAM,CACbA,EAAa,MAAM,QAAU,MAC7B,KAAK,UAAUA,CAAY,CAC9B,EAAE,GAAG,EAEN,WAAW,IAAM,CACbA,EAAa,MAAM,QAAU,IAC7B,KAAK,UAAUA,CAAY,CAC9B,EAAE,IAAI,EAGP,KAAK,eAAiB,YAAY,IAAM,CAChC,KAAK,OAAQ,EAAG,IAChB,KAAK,UAAUA,CAAY,CAElC,EAAE,GAAI,EACf,CAEI,UAAU6D,EAAS,CAEf,MAAMC,EAAkB;AAAA,gCACA,KAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAe5BZ,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAcY,EACpB,SAAS,KAAK,YAAYZ,CAAK,EAG/B,MAAMa,EAAgB,UAAU,KAAK,IAAK,CAAA,GAC1CF,EAAQ,MAAM,UAAY,GAAGE,CAAa,eAG1C,WAAW,IAAM,CACbF,EAAQ,MAAM,UAAY,GAC1BX,EAAM,OAAQ,CACjB,EAAE,GAAI,CACf,CAEI,iBAAkB,CAEd,IAAIc,EAAW,EACf,MAAMC,EAAS,OAAO,YAEhBC,EAAe,IAAM,CAClB,KAAK,WACVF,GAAYA,EAAW,GAAKC,EAC5B,KAAK,SAAS,MAAM,IAAM,GAAGD,CAAQ,KAGjC,KAAK,OAAQ,EAAG,MAChB,KAAK,SAAS,MAAM,QAAU,IAC9B,WAAW,IAAM,CACT,KAAK,WACL,KAAK,SAAS,MAAM,QAAU,MAErC,EAAE,EAAE,GAGT,KAAK,gBAAgB,KAAK,sBAAsBE,CAAY,CAAC,EAChE,EAEDA,EAAc,CACtB,CAEI,QAAS,CACL,GAAI,CAAC,KAAK,UAAW,OAGrB,KAAK,oBAAqB,EAG1B,KAAK,kBAAmB,EAGxB,MAAMtD,EAAU,SAAS,eAAe,UAAU,EAC5CF,EAAY,SAAS,eAAe,YAAY,EACtD,GAAIE,EAAS,CAET,MAAMuD,EAAc,KAAK,UAAU,QAAU,EACxC,KAAK,UAAU,KAAO,KAAK,UAAU,QAAW,IAAM,EAE3DvD,EAAQ,MAAM,MAAQ,GAAGuD,CAAW,IAGhCA,EAAc,GACdvD,EAAQ,MAAM,gBAAkB,yBACzBuD,EAAc,GACrBvD,EAAQ,MAAM,gBAAkB,yBAEhCA,EAAQ,MAAM,gBAAkB,2BAIhCF,IACAA,EAAU,YAAc,GAAG,KAAK,MAAM,KAAK,UAAU,IAAI,CAAC,MAAM,KAAK,MAAM,KAAK,UAAU,OAAO,CAAC,GAElH,CAGQ,MAAM0D,EAAiB,SAAS,eAAe,eAAe,EAC1DA,IACAA,EAAe,YAAc,GAAG,KAAK,UAAU,OAAO,OAI1D,KAAK,uBAAwB,CACrC,CAKI,wBAAyB,CACrB,MAAMtB,EAAiB,SAAS,eAAe,sBAAsB,EAC/DG,EAAe,SAAS,eAAe,qBAAqB,EAElE,GAAI,GAACH,GAAkB,CAACG,GAGxB,GAAI,OAAO,MAAQ,OAAO,KAAK,cAAe,CAO1C,GALIH,EAAe,MAAM,UAAY,SACjCA,EAAe,MAAM,QAAU,QAI/B,OAAO,KAAK,8BACZG,EAAa,YAAc,OAAO,KAAK,8BAA+B,MACnE,CAEH,MAAMoB,EAAe,KAAK,MAAM,OAAO,KAAK,kBAAoB,GAAI,EAC9DC,EAAU,KAAK,MAAMD,EAAe,EAAE,EACtCE,EAAUF,EAAe,GAC/BpB,EAAa,YAAc,GAAGqB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAAC,IAAIC,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAAC,EACxH,CAIY,GAAI,OAAO,KAAK,kBAAoB,EAAI,GAAK,IAAM,CAC/C,MAAMC,EAAU,SAAS,cAAc,OAAO,EAC9CA,EAAQ,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOtB,SAAS,KAAK,YAAYA,CAAO,EAGjC1B,EAAe,MAAM,UAAY,yBACjD,CACA,MAEYA,EAAe,MAAM,QAAU,MAE3C,CAGI,qBAAsB,CAClB,MAAM5B,EAAY,SAAS,eAAe,YAAY,EACtD,GAAI,CAACA,EAAW,OAEhB,IAAIuD,EAAmB,IACnBC,EAAc,GAGlB,GAAI,CACA,GAAI,OAAO,MAAQ,OAAO,KAAK,MAAO,CAClC,MAAMC,EAAU,OAAO,KAAK,MAAM,iBAAiB,QAAQ,EAC3D,GAAIA,GAAWA,EAAQ,OAAS,EAAG,CAE/B,MAAMC,EADSD,EAAQ,CAAC,EACF,aAAa,iBAAiB,EAEhDC,IACAH,EAAmBG,EAAO,oBAAqB,EAG3C,KAAK,YAEDA,EAAO,OAAS,KAAK,UAAU,QAC/B,KAAK,UAAU,OAASA,EAAO,OAC/B,KAAK,UAAU,UAAYA,EAAO,WAG7B,KAAK,UAAU,OAASA,EAAO,SACpCA,EAAO,OAAS,KAAK,UAAU,OAC/B,QAAQ,IAAI,kDAAkDA,EAAO,MAAM,EAAE,EAE7EH,EAAmBG,EAAO,oBAAqB,IAIvDF,EAAc,GAEtC,CACA,CACS,OAAQG,EAAG,CACR,QAAQ,MAAM,2CAA4CA,CAAC,CACvE,CAGY,CAACH,GAAe,KAAK,WAAa,KAAK,UAAU,SAAW,SAC5DD,EAAoB,KAAK,UAAU,OAAS,KAAK,UAAU,UAAa,KAI5EvD,EAAU,MAAM,MAAQ,GAAGuD,CAAgB,IAGvCA,EAAmB,GACnBvD,EAAU,MAAM,gBAAkB,yBAC3BuD,EAAmB,GAC1BvD,EAAU,MAAM,gBAAkB,yBAElCA,EAAU,MAAM,gBAAkB,yBAE9C,CAGI,mBAAoB,CAChB,MAAMI,EAAU,SAAS,eAAe,UAAU,EAClD,GAAI,CAACA,EAAS,OAEd,IAAIwD,EAAiB,IACjBC,EAAc,GAGlB,GAAI,CACA,GAAI,OAAO,MAAQ,OAAO,KAAK,MAAO,CAClC,MAAMJ,EAAU,OAAO,KAAK,MAAM,iBAAiB,QAAQ,EAC3D,GAAIA,GAAWA,EAAQ,OAAS,EAAG,CAE/B,MAAMC,EADSD,EAAQ,CAAC,EACF,aAAa,iBAAiB,EAEhDC,IACAE,EAAiBF,EAAO,oBAAqB,EAGzC,KAAK,YAEDA,EAAO,OAAS,KAAK,UAAU,MAC/B,KAAK,UAAU,KAAOA,EAAO,OAC7B,KAAK,UAAU,QAAUA,EAAO,WAG3B,KAAK,UAAU,KAAOA,EAAO,SAClCA,EAAO,OAAS,KAAK,UAAU,KAC/B,QAAQ,IAAI,kDAAkDA,EAAO,MAAM,EAAE,EAE7EE,EAAiBF,EAAO,oBAAqB,IAIrDG,EAAc,GAEtC,CACA,CACS,OAAQF,EAAG,CACR,QAAQ,MAAM,2CAA4CA,CAAC,CACvE,CAGY,CAACE,GAAe,KAAK,WAAa,KAAK,UAAU,OAAS,SAC1DD,EAAkB,KAAK,UAAU,KAAO,KAAK,UAAU,QAAW,KAItExD,EAAQ,MAAM,MAAQ,GAAGwD,CAAc,IAGnCA,EAAiB,GACjBxD,EAAQ,MAAM,gBAAkB,yBACzBwD,EAAiB,GACxBxD,EAAQ,MAAM,gBAAkB,yBAEhCA,EAAQ,MAAM,gBAAkB,0BAE5C,CAEI,eAAe0D,EAAcC,EAAa,iBAAkB,CAExD,MAAMC,EAAgB,SAAS,eAAe,gBAAgB,EAE9D,GAAIA,EAAe,CACfA,EAAc,YAAcD,EAAW,YAAa,EAGpD,MAAMpD,EAAgB,SAAS,eAAe,gBAAgB,EAC1DA,GACA,KAAK,UAAUA,CAAa,CAE5C,CACA,CAEI,kBAAkBsD,EAAGC,EAAGC,EAAG,CACvB,MAAMC,EAAgB,SAAS,eAAe,sBAAsB,EAChEA,IACAA,EAAc,YAAc,MAAM,KAAK,MAAMH,CAAC,CAAC,OAAO,KAAK,MAAMC,CAAC,CAAC,OAAO,KAAK,MAAMC,CAAC,CAAC,GAEnG,CAEI,UAAUE,EAAKC,EAAK,CAChB,MAAMC,EAAa,SAAS,eAAe,aAAa,EACpDA,IACID,GAEAC,EAAW,YAAc,QAAQ,KAAK,MAAMF,CAAG,CAAC,IAAIC,CAAG,GAGnDD,EAAMC,EAAM,GAEZC,EAAW,MAAM,MAAQ,2BAGzBA,EAAW,MAAM,MAAQ,6BAI7BA,EAAW,YAAc,QAAQ,KAAK,MAAMF,CAAG,CAAC,GAChDE,EAAW,MAAM,MAAQ,4BAIzB,OAAO,MACP,OAAO,KAAK,IACZ,OAAO,KAAK,GAAG,UACf,OAAO,KAAK,GAAG,SAAS,SAAS,eAAiB,SAE9B,OAAO,KAAK,GAAG,SAAS,mBAExCD,EAAM,EAENC,EAAW,YAAc,QAAQ,KAAK,MAAMF,CAAG,CAAC,IAAIC,CAAG,UAGvDC,EAAW,YAAc,QAAQ,KAAK,MAAMF,CAAG,CAAC,sBAIpE,CAEI,MAAO,CAEH,MAAMvF,EAAe,SAAS,eAAe,eAAe,EACxDA,IACAA,EAAa,MAAM,QAAU,KAIjC,KAAK,gBAAgB,QAAQ0F,GAAS,qBAAqBA,CAAK,CAAC,EACjE,KAAK,gBAAkB,CAAE,EAGrB,KAAK,gBACL,cAAc,KAAK,cAAc,CAE7C,CAEI,MAAO,CAEH,MAAM1F,EAAe,SAAS,eAAe,eAAe,EACxDA,IACAA,EAAa,MAAM,QAAU,KAI7B,KAAK,UACL,KAAK,gBAAiB,EAIrB,KAAK,iBACN,KAAK,eAAiB,YAAY,IAAM,CAChC,KAAK,OAAQ,EAAG,IAChB,KAAK,UAAUA,CAAY,CAElC,EAAE,GAAI,EAEnB,CAKI,SAAU,CAEN,KAAK,gBAAgB,QAAQ2F,GAAW,CACpC,qBAAqBA,CAAO,CACxC,CAAS,EACD,KAAK,gBAAkB,CAAE,EAGrB,KAAK,iBACL,cAAc,KAAK,cAAc,EACjC,KAAK,eAAiB,MAI1B,MAAMC,EAAW,SAAS,eAAe,eAAe,EACpDA,IACAA,EAAS,oBAAoB,QAASA,EAAS,YAAY,EAC3DA,EAAS,oBAAoB,YAAaA,EAAS,gBAAgB,EACnEA,EAAS,oBAAoB,WAAYA,EAAS,eAAe,GAIrE,MAAM5F,EAAe,SAAS,eAAe,eAAe,EACxDA,GAAgBA,EAAa,YAC7BA,EAAa,WAAW,YAAYA,CAAY,EAIpD,KAAK,UAAY,KACjB,KAAK,SAAW,IACxB,CACA,CCtwCO,MAAM6F,CAAkB,CAC3B,aAAc,CACV,KAAK,QAAU,KACf,KAAK,cAAgB,KACrB,KAAK,SAAW,KAChB,KAAK,SAAWC,EAAe,SAAU,EACzC,KAAK,gBAAiB,EACtB,KAAK,mBAAoB,CACjC,CAEI,WAAWC,EAAS,CAChB,KAAK,QAAUA,CACvB,CAEI,iBAAiBC,EAAe,CAC5B,KAAK,cAAgBA,CAC7B,CAEI,YAAYC,EAAU,CAClB,KAAK,SAAWA,EAGZ,KAAK,UACL,KAAK,SAAS,qBAAqB,IAAI,EAI3C,KAAK,oBAAqB,CAClC,CAEI,iBAAkB,CAEd,MAAM/C,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA6YpB,SAAS,KAAK,YAAYA,CAAK,EAG/B,MAAMgD,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,GAAK,iBACnBA,EAAc,MAAM,SAAW,WAC/BA,EAAc,MAAM,IAAM,MAC1BA,EAAc,MAAM,KAAO,MAC3BA,EAAc,MAAM,UAAY,wBAChCA,EAAc,MAAM,gBAAkB,qBACtCA,EAAc,MAAM,MAAQ,UAC5BA,EAAc,MAAM,QAAU,OAC9BA,EAAc,MAAM,aAAe,OACnCA,EAAc,MAAM,OAAS,oBAC7BA,EAAc,MAAM,UAAY,mBAChCA,EAAc,MAAM,WAAa,yBACjCA,EAAc,MAAM,SAAW,OAC/BA,EAAc,MAAM,UAAY,SAChCA,EAAc,MAAM,OAAS,OAC7BA,EAAc,MAAM,QAAU,OAI1B,KAAK,UAELA,EAAc,MAAM,QAAU,OAC9BA,EAAc,QAAQ,WAAa,QAEnCA,EAAc,YAAc,gCAGhC,SAAS,KAAK,YAAYA,CAAa,EAGvC,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,GAAK,cAGZ,KAAK,WACLA,EAAW,MAAM,MAAQ,MACzBA,EAAW,MAAM,SAAW,OAG5BA,EAAW,MAAM,wBAA0B,QAC3CA,EAAW,MAAM,YAAc,QAC/BA,EAAW,MAAM,mBAAqB,WAI1CA,EAAW,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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"}